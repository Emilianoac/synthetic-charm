(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $a(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const vt={},Xn=[],Ee=()=>{},Wp=()=>!1,Qp=/^on[^a-z]/,Vi=e=>Qp.test(e),Ha=e=>e.startsWith("onUpdate:"),Ot=Object.assign,qa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Yp=Object.prototype.hasOwnProperty,tt=(e,t)=>Yp.call(e,t),z=Array.isArray,Jn=e=>xi(e)==="[object Map]",Eh=e=>xi(e)==="[object Set]",X=e=>typeof e=="function",At=e=>typeof e=="string",Di=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",vh=e=>(Et(e)||X(e))&&X(e.then)&&X(e.catch),Th=Object.prototype.toString,xi=e=>Th.call(e),Xp=e=>xi(e).slice(8,-1),wh=e=>xi(e)==="[object Object]",ja=e=>At(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Zs=$a(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ni=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Jp=/-(\w)/g,Le=Ni(e=>e.replace(Jp,(t,n)=>n?n.toUpperCase():"")),Zp=/\B([A-Z])/g,Er=Ni(e=>e.replace(Zp,"-$1").toLowerCase()),Oi=Ni(e=>e.charAt(0).toUpperCase()+e.slice(1)),go=Ni(e=>e?`on${Oi(e)}`:""),On=(e,t)=>!Object.is(e,t),mo=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},li=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},tg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},eg=e=>{const t=At(e)?Number(e):NaN;return isNaN(t)?e:t};let fc;const jo=()=>fc||(fc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Es(e){if(z(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=At(r)?ig(r):Es(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(At(e)||Et(e))return e}const ng=/;(?![^(]*\))/g,rg=/:([^]+)/,sg=/\/\*[^]*?\*\//g;function ig(e){const t={};return e.replace(sg,"").split(ng).forEach(n=>{if(n){const r=n.split(rg);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function za(e){let t="";if(At(e))t=e;else if(z(e))for(let n=0;n<e.length;n++){const r=za(e[n]);r&&(t+=r+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const og="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ag=$a(og);function Ih(e){return!!e||e===""}const dc=e=>At(e)?e:e==null?"":z(e)||Et(e)&&(e.toString===Th||!X(e.toString))?JSON.stringify(e,Ch,2):String(e),Ch=(e,t)=>t&&t.__v_isRef?Ch(e,t.value):Jn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Eh(t)?{[`Set(${t.size})`]:[...t.values()]}:Et(t)&&!z(t)&&!wh(t)?String(t):t;let ge;class Ah{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ge,!t&&ge&&(this.index=(ge.scopes||(ge.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ge;try{return ge=this,t()}finally{ge=n}}}on(){ge=this}off(){ge=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function lg(e){return new Ah(e)}function cg(e,t=ge){t&&t.active&&t.effects.push(e)}function ug(){return ge}const Ka=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Rh=e=>(e.w&un)>0,Ph=e=>(e.n&un)>0,hg=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=un},fg=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];Rh(s)&&!Ph(s)?s.delete(e):t[n++]=s,s.w&=~un,s.n&=~un}t.length=n}},zo=new WeakMap;let Mr=0,un=1;const Ko=30;let me;const Sn=Symbol(""),Go=Symbol("");class Ga{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,cg(this,r)}run(){if(!this.active)return this.fn();let t=me,n=on;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=me,me=this,on=!0,un=1<<++Mr,Mr<=Ko?hg(this):pc(this),this.fn()}finally{Mr<=Ko&&fg(this),un=1<<--Mr,me=this.parent,on=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){me===this?this.deferStop=!0:this.active&&(pc(this),this.onStop&&this.onStop(),this.active=!1)}}function pc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let on=!0;const Sh=[];function vr(){Sh.push(on),on=!1}function Tr(){const e=Sh.pop();on=e===void 0?!0:e}function ie(e,t,n){if(on&&me){let r=zo.get(e);r||zo.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Ka()),bh(s)}}function bh(e,t){let n=!1;Mr<=Ko?Ph(e)||(e.n|=un,n=!Rh(e)):n=!e.has(me),n&&(e.add(me),me.deps.push(e))}function je(e,t,n,r,s,i){const o=zo.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&z(e)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||!Di(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":z(e)?ja(n)&&a.push(o.get("length")):(a.push(o.get(Sn)),Jn(e)&&a.push(o.get(Go)));break;case"delete":z(e)||(a.push(o.get(Sn)),Jn(e)&&a.push(o.get(Go)));break;case"set":Jn(e)&&a.push(o.get(Sn));break}if(a.length===1)a[0]&&Wo(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Wo(Ka(l))}}function Wo(e,t){const n=z(e)?e:[...e];for(const r of n)r.computed&&gc(r);for(const r of n)r.computed||gc(r)}function gc(e,t){(e!==me||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const dg=$a("__proto__,__v_isRef,__isVue"),Vh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Di)),mc=pg();function pg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=st(this);for(let i=0,o=this.length;i<o;i++)ie(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(st)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){vr();const r=st(this)[t].apply(this,n);return Tr(),r}}),e}function gg(e){const t=st(this);return ie(t,"has",e),t.hasOwnProperty(e)}class Dh{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw"&&r===(s?i?Sg:kh:i?Oh:Nh).get(t))return t;const o=z(t);if(!s){if(o&&tt(mc,n))return Reflect.get(mc,n,r);if(n==="hasOwnProperty")return gg}const a=Reflect.get(t,n,r);return(Di(n)?Vh.has(n):dg(n))||(s||ie(t,"get",n),i)?a:Yt(a)?o&&ja(n)?a:a.value:Et(a)?s?Lh(a):vs(a):a}}class xh extends Dh{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(ar(i)&&Yt(i)&&!Yt(r))return!1;if(!this._shallow&&(!ci(r)&&!ar(r)&&(i=st(i),r=st(r)),!z(t)&&Yt(i)&&!Yt(r)))return i.value=r,!0;const o=z(t)&&ja(n)?Number(n)<t.length:tt(t,n),a=Reflect.set(t,n,r,s);return t===st(s)&&(o?On(r,i)&&je(t,"set",n,r):je(t,"add",n,r)),a}deleteProperty(t,n){const r=tt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&je(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Di(n)||!Vh.has(n))&&ie(t,"has",n),r}ownKeys(t){return ie(t,"iterate",z(t)?"length":Sn),Reflect.ownKeys(t)}}class mg extends Dh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const _g=new xh,yg=new mg,Eg=new xh(!0),Wa=e=>e,ki=e=>Reflect.getPrototypeOf(e);function Ls(e,t,n=!1,r=!1){e=e.__v_raw;const s=st(e),i=st(t);n||(On(t,i)&&ie(s,"get",t),ie(s,"get",i));const{has:o}=ki(s),a=r?Wa:n?Ja:Xr;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function Fs(e,t=!1){const n=this.__v_raw,r=st(n),s=st(e);return t||(On(e,s)&&ie(r,"has",e),ie(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Bs(e,t=!1){return e=e.__v_raw,!t&&ie(st(e),"iterate",Sn),Reflect.get(e,"size",e)}function _c(e){e=st(e);const t=st(this);return ki(t).has.call(t,e)||(t.add(e),je(t,"add",e,e)),this}function yc(e,t){t=st(t);const n=st(this),{has:r,get:s}=ki(n);let i=r.call(n,e);i||(e=st(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?On(t,o)&&je(n,"set",e,t):je(n,"add",e,t),this}function Ec(e){const t=st(this),{has:n,get:r}=ki(t);let s=n.call(t,e);s||(e=st(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&je(t,"delete",e,void 0),i}function vc(){const e=st(this),t=e.size!==0,n=e.clear();return t&&je(e,"clear",void 0,void 0),n}function Us(e,t){return function(r,s){const i=this,o=i.__v_raw,a=st(o),l=t?Wa:e?Ja:Xr;return!e&&ie(a,"iterate",Sn),o.forEach((c,u)=>r.call(s,l(c),l(u),i))}}function $s(e,t,n){return function(...r){const s=this.__v_raw,i=st(s),o=Jn(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?Wa:t?Ja:Xr;return!t&&ie(i,"iterate",l?Go:Sn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Ye(e){return function(...t){return e==="delete"?!1:this}}function vg(){const e={get(i){return Ls(this,i)},get size(){return Bs(this)},has:Fs,add:_c,set:yc,delete:Ec,clear:vc,forEach:Us(!1,!1)},t={get(i){return Ls(this,i,!1,!0)},get size(){return Bs(this)},has:Fs,add:_c,set:yc,delete:Ec,clear:vc,forEach:Us(!1,!0)},n={get(i){return Ls(this,i,!0)},get size(){return Bs(this,!0)},has(i){return Fs.call(this,i,!0)},add:Ye("add"),set:Ye("set"),delete:Ye("delete"),clear:Ye("clear"),forEach:Us(!0,!1)},r={get(i){return Ls(this,i,!0,!0)},get size(){return Bs(this,!0)},has(i){return Fs.call(this,i,!0)},add:Ye("add"),set:Ye("set"),delete:Ye("delete"),clear:Ye("clear"),forEach:Us(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=$s(i,!1,!1),n[i]=$s(i,!0,!1),t[i]=$s(i,!1,!0),r[i]=$s(i,!0,!0)}),[e,n,t,r]}const[Tg,wg,Ig,Cg]=vg();function Qa(e,t){const n=t?e?Cg:Ig:e?wg:Tg;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(tt(n,s)&&s in r?n:r,s,i)}const Ag={get:Qa(!1,!1)},Rg={get:Qa(!1,!0)},Pg={get:Qa(!0,!1)},Nh=new WeakMap,Oh=new WeakMap,kh=new WeakMap,Sg=new WeakMap;function bg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vg(e){return e.__v_skip||!Object.isExtensible(e)?0:bg(Xp(e))}function vs(e){return ar(e)?e:Ya(e,!1,_g,Ag,Nh)}function Mh(e){return Ya(e,!1,Eg,Rg,Oh)}function Lh(e){return Ya(e,!0,yg,Pg,kh)}function Ya(e,t,n,r,s){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Vg(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function Zn(e){return ar(e)?Zn(e.__v_raw):!!(e&&e.__v_isReactive)}function ar(e){return!!(e&&e.__v_isReadonly)}function ci(e){return!!(e&&e.__v_isShallow)}function Fh(e){return Zn(e)||ar(e)}function st(e){const t=e&&e.__v_raw;return t?st(t):e}function Xa(e){return li(e,"__v_skip",!0),e}const Xr=e=>Et(e)?vs(e):e,Ja=e=>Et(e)?Lh(e):e;function Bh(e){on&&me&&(e=st(e),bh(e.dep||(e.dep=Ka())))}function Uh(e,t){e=st(e);const n=e.dep;n&&Wo(n)}function Yt(e){return!!(e&&e.__v_isRef===!0)}function $h(e){return Hh(e,!1)}function Dg(e){return Hh(e,!0)}function Hh(e,t){return Yt(e)?e:new xg(e,t)}class xg{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:st(t),this._value=n?t:Xr(t)}get value(){return Bh(this),this._value}set value(t){const n=this.__v_isShallow||ci(t)||ar(t);t=n?t:st(t),On(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Xr(t),Uh(this))}}function bn(e){return Yt(e)?e.value:e}const Ng={get:(e,t,n)=>bn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Yt(s)&&!Yt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function qh(e){return Zn(e)?e:new Proxy(e,Ng)}class Og{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ga(t,()=>{this._dirty||(this._dirty=!0,Uh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=st(this);return Bh(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function kg(e,t,n=!1){let r,s;const i=X(e);return i?(r=e,s=Ee):(r=e.get,s=e.set),new Og(r,s,i||!s,n)}function an(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Mi(i,t,n)}return s}function de(e,t,n,r){if(X(e)){const i=an(e,t,n,r);return i&&vh(i)&&i.catch(o=>{Mi(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(de(e[i],t,n,r));return s}function Mi(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){an(l,null,10,[e,o,a]);return}}Mg(e,n,s,r)}function Mg(e,t,n,r=!0){console.error(e)}let Jr=!1,Qo=!1;const Wt=[];let Ve=0;const tr=[];let He=null,wn=0;const jh=Promise.resolve();let Za=null;function zh(e){const t=Za||jh;return e?t.then(this?e.bind(this):e):t}function Lg(e){let t=Ve+1,n=Wt.length;for(;t<n;){const r=t+n>>>1,s=Wt[r],i=Zr(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function tl(e){(!Wt.length||!Wt.includes(e,Jr&&e.allowRecurse?Ve+1:Ve))&&(e.id==null?Wt.push(e):Wt.splice(Lg(e.id),0,e),Kh())}function Kh(){!Jr&&!Qo&&(Qo=!0,Za=jh.then(Wh))}function Fg(e){const t=Wt.indexOf(e);t>Ve&&Wt.splice(t,1)}function Bg(e){z(e)?tr.push(...e):(!He||!He.includes(e,e.allowRecurse?wn+1:wn))&&tr.push(e),Kh()}function Tc(e,t=Jr?Ve+1:0){for(;t<Wt.length;t++){const n=Wt[t];n&&n.pre&&(Wt.splice(t,1),t--,n())}}function Gh(e){if(tr.length){const t=[...new Set(tr)];if(tr.length=0,He){He.push(...t);return}for(He=t,He.sort((n,r)=>Zr(n)-Zr(r)),wn=0;wn<He.length;wn++)He[wn]();He=null,wn=0}}const Zr=e=>e.id==null?1/0:e.id,Ug=(e,t)=>{const n=Zr(e)-Zr(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Wh(e){Qo=!1,Jr=!0,Wt.sort(Ug);const t=Ee;try{for(Ve=0;Ve<Wt.length;Ve++){const n=Wt[Ve];n&&n.active!==!1&&an(n,null,14)}}finally{Ve=0,Wt.length=0,Gh(),Jr=!1,Za=null,(Wt.length||tr.length)&&Wh()}}function $g(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||vt;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||vt;f&&(s=n.map(g=>At(g)?g.trim():g)),h&&(s=n.map(tg))}let a,l=r[a=go(t)]||r[a=go(Le(t))];!l&&i&&(l=r[a=go(Er(t))]),l&&de(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,de(c,e,6,s)}}function Qh(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!X(e)){const l=c=>{const u=Qh(c,t,!0);u&&(a=!0,Ot(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Et(e)&&r.set(e,null),null):(z(i)?i.forEach(l=>o[l]=null):Ot(o,i),Et(e)&&r.set(e,o),o)}function Li(e,t){return!e||!Vi(t)?!1:(t=t.slice(2).replace(/Once$/,""),tt(e,t[0].toLowerCase()+t.slice(1))||tt(e,Er(t))||tt(e,t))}let fe=null,Yh=null;function ui(e){const t=fe;return fe=e,Yh=e&&e.type.__scopeId||null,t}function ts(e,t=fe,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Oc(-1);const i=ui(t);let o;try{o=e(...s)}finally{ui(i),r._d&&Oc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function _o(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:g,ctx:v,inheritAttrs:I}=e;let P,D;const O=ui(e);try{if(n.shapeFlag&4){const N=s||r;P=be(u.call(N,N,h,i,g,f,v)),D=l}else{const N=t;P=be(N.length>1?N(i,{attrs:l,slots:a,emit:c}):N(i,null)),D=t.props?l:Hg(l)}}catch(N){qr.length=0,Mi(N,e,1),P=wt(ve)}let j=P;if(D&&I!==!1){const N=Object.keys(D),{shapeFlag:rt}=j;N.length&&rt&7&&(o&&N.some(Ha)&&(D=qg(D,o)),j=hn(j,D))}return n.dirs&&(j=hn(j),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&(j.transition=n.transition),P=j,ui(O),P}const Hg=e=>{let t;for(const n in e)(n==="class"||n==="style"||Vi(n))&&((t||(t={}))[n]=e[n]);return t},qg=(e,t)=>{const n={};for(const r in e)(!Ha(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function jg(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?wc(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!Li(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?wc(r,o,c):!0:!!o;return!1}function wc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Li(n,i))return!0}return!1}function zg({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const el="components";function Xh(e,t){return Zh(el,e,!0,t)||e}const Jh=Symbol.for("v-ndc");function Kg(e){return At(e)?Zh(el,e,!1)||e:e||Jh}function Zh(e,t,n=!0,r=!1){const s=fe||Mt;if(s){const i=s.type;if(e===el){const a=$m(i,!1);if(a&&(a===t||a===Le(t)||a===Oi(Le(t))))return i}const o=Ic(s[e]||i[e],t)||Ic(s.appContext[e],t);return!o&&r?i:o}}function Ic(e,t){return e&&(e[t]||e[Le(t)]||e[Oi(Le(t))])}const Gg=e=>e.__isSuspense;function Wg(e,t){t&&t.pendingBranch?z(e)?t.effects.push(...e):t.effects.push(e):Bg(e)}const Hs={};function ti(e,t,n){return tf(e,t,n)}function tf(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=vt){var a;const l=ug()===((a=Mt)==null?void 0:a.scope)?Mt:null;let c,u=!1,h=!1;if(Yt(e)?(c=()=>e.value,u=ci(e)):Zn(e)?(c=()=>e,r=!0):z(e)?(h=!0,u=e.some(N=>Zn(N)||ci(N)),c=()=>e.map(N=>{if(Yt(N))return N.value;if(Zn(N))return Qn(N);if(X(N))return an(N,l,2)})):X(e)?t?c=()=>an(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),de(e,l,3,[g])}:c=Ee,t&&r){const N=c;c=()=>Qn(N())}let f,g=N=>{f=O.onStop=()=>{an(N,l,4)}},v;if(ns)if(g=Ee,t?n&&de(t,l,3,[c(),h?[]:void 0,g]):c(),s==="sync"){const N=jm();v=N.__watcherHandles||(N.__watcherHandles=[])}else return Ee;let I=h?new Array(e.length).fill(Hs):Hs;const P=()=>{if(O.active)if(t){const N=O.run();(r||u||(h?N.some((rt,mt)=>On(rt,I[mt])):On(N,I)))&&(f&&f(),de(t,l,3,[N,I===Hs?void 0:h&&I[0]===Hs?[]:I,g]),I=N)}else O.run()};P.allowRecurse=!!t;let D;s==="sync"?D=P:s==="post"?D=()=>se(P,l&&l.suspense):(P.pre=!0,l&&(P.id=l.uid),D=()=>tl(P));const O=new Ga(c,D);t?n?P():I=O.run():s==="post"?se(O.run.bind(O),l&&l.suspense):O.run();const j=()=>{O.stop(),l&&l.scope&&qa(l.scope.effects,O)};return v&&v.push(j),j}function Qg(e,t,n){const r=this.proxy,s=At(e)?e.includes(".")?ef(r,e):()=>r[e]:e.bind(r,r);let i;X(t)?i=t:(i=t.handler,n=t);const o=Mt;lr(this);const a=tf(s,i.bind(r),n);return o?lr(o):Vn(),a}function ef(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Qn(e,t){if(!Et(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Yt(e))Qn(e.value,t);else if(z(e))for(let n=0;n<e.length;n++)Qn(e[n],t);else if(Eh(e)||Jn(e))e.forEach(n=>{Qn(n,t)});else if(wh(e))for(const n in e)Qn(e[n],t);return e}function _n(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(vr(),de(l,n,8,[e.el,a,e,t]),Tr())}}const tn=Symbol("_leaveCb"),qs=Symbol("_enterCb");function Yg(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return af(()=>{e.isMounted=!0}),lf(()=>{e.isUnmounting=!0}),e}const ce=[Function,Array],nf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ce,onEnter:ce,onAfterEnter:ce,onEnterCancelled:ce,onBeforeLeave:ce,onLeave:ce,onAfterLeave:ce,onLeaveCancelled:ce,onBeforeAppear:ce,onAppear:ce,onAfterAppear:ce,onAppearCancelled:ce},Xg={name:"BaseTransition",props:nf,setup(e,{slots:t}){const n=Mm(),r=Yg();let s;return()=>{const i=t.default&&sf(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const I of i)if(I.type!==ve){o=I;break}}const a=st(e),{mode:l}=a;if(r.isLeaving)return yo(o);const c=Cc(o);if(!c)return yo(o);const u=Yo(c,a,r,n);Xo(c,u);const h=n.subTree,f=h&&Cc(h);let g=!1;const{getTransitionKey:v}=c.type;if(v){const I=v();s===void 0?s=I:I!==s&&(s=I,g=!0)}if(f&&f.type!==ve&&(!In(c,f)||g)){const I=Yo(f,a,r,n);if(Xo(f,I),l==="out-in")return r.isLeaving=!0,I.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},yo(o);l==="in-out"&&c.type!==ve&&(I.delayLeave=(P,D,O)=>{const j=rf(r,f);j[String(f.key)]=f,P[tn]=()=>{D(),P[tn]=void 0,delete u.delayedLeave},u.delayedLeave=O})}return o}}},Jg=Xg;function rf(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Yo(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:v,onBeforeAppear:I,onAppear:P,onAfterAppear:D,onAppearCancelled:O}=t,j=String(e.key),N=rf(n,e),rt=(Y,pt)=>{Y&&de(Y,r,9,pt)},mt=(Y,pt)=>{const ot=pt[1];rt(Y,pt),z(Y)?Y.every(xt=>xt.length<=1)&&ot():Y.length<=1&&ot()},Dt={mode:i,persisted:o,beforeEnter(Y){let pt=a;if(!n.isMounted)if(s)pt=I||a;else return;Y[tn]&&Y[tn](!0);const ot=N[j];ot&&In(e,ot)&&ot.el[tn]&&ot.el[tn](),rt(pt,[Y])},enter(Y){let pt=l,ot=c,xt=u;if(!n.isMounted)if(s)pt=P||l,ot=D||c,xt=O||u;else return;let B=!1;const ut=Y[qs]=te=>{B||(B=!0,te?rt(xt,[Y]):rt(ot,[Y]),Dt.delayedLeave&&Dt.delayedLeave(),Y[qs]=void 0)};pt?mt(pt,[Y,ut]):ut()},leave(Y,pt){const ot=String(e.key);if(Y[qs]&&Y[qs](!0),n.isUnmounting)return pt();rt(h,[Y]);let xt=!1;const B=Y[tn]=ut=>{xt||(xt=!0,pt(),ut?rt(v,[Y]):rt(g,[Y]),Y[tn]=void 0,N[ot]===e&&delete N[ot])};N[ot]=e,f?mt(f,[Y,B]):B()},clone(Y){return Yo(Y,t,n,r)}};return Dt}function yo(e){if(Fi(e))return e=hn(e),e.children=null,e}function Cc(e){return Fi(e)?e.children?e.children[0]:void 0:e}function Xo(e,t){e.shapeFlag&6&&e.component?Xo(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sf(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===ae?(o.patchFlag&128&&s++,r=r.concat(sf(o.children,t,a))):(t||o.type!==ve)&&r.push(a!=null?hn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function wr(e,t){return X(e)?(()=>Ot({name:e.name},t,{setup:e}))():e}const ei=e=>!!e.type.__asyncLoader,Fi=e=>e.type.__isKeepAlive;function Zg(e,t){of(e,"a",t)}function tm(e,t){of(e,"da",t)}function of(e,t,n=Mt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Bi(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Fi(s.parent.vnode)&&em(r,t,n,s),s=s.parent}}function em(e,t,n,r){const s=Bi(t,e,r,!0);cf(()=>{qa(r[t],s)},n)}function Bi(e,t,n=Mt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;vr(),lr(n);const a=de(t,n,e,o);return Vn(),Tr(),a});return r?s.unshift(i):s.push(i),i}}const Ge=e=>(t,n=Mt)=>(!ns||e==="sp")&&Bi(e,(...r)=>t(...r),n),nm=Ge("bm"),af=Ge("m"),rm=Ge("bu"),sm=Ge("u"),lf=Ge("bum"),cf=Ge("um"),im=Ge("sp"),om=Ge("rtg"),am=Ge("rtc");function lm(e,t=Mt){Bi("ec",e,t)}function Ac(e,t,n,r){let s;const i=n&&n[r];if(z(e)||At(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Et(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const Jo=e=>e?Tf(e)?ol(e)||e.proxy:Jo(e.parent):null,Hr=Ot(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Jo(e.parent),$root:e=>Jo(e.root),$emit:e=>e.emit,$options:e=>nl(e),$forceUpdate:e=>e.f||(e.f=()=>tl(e.update)),$nextTick:e=>e.n||(e.n=zh.bind(e.proxy)),$watch:e=>Qg.bind(e)}),Eo=(e,t)=>e!==vt&&!e.__isScriptSetup&&tt(e,t),cm={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Eo(r,t))return o[t]=1,r[t];if(s!==vt&&tt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&tt(c,t))return o[t]=3,i[t];if(n!==vt&&tt(n,t))return o[t]=4,n[t];Zo&&(o[t]=0)}}const u=Hr[t];let h,f;if(u)return t==="$attrs"&&ie(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==vt&&tt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,tt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Eo(s,t)?(s[t]=n,!0):r!==vt&&tt(r,t)?(r[t]=n,!0):tt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==vt&&tt(e,o)||Eo(t,o)||(a=i[0])&&tt(a,o)||tt(r,o)||tt(Hr,o)||tt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:tt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Rc(e){return z(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Zo=!0;function um(e){const t=nl(e),n=e.proxy,r=e.ctx;Zo=!1,t.beforeCreate&&Pc(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:v,activated:I,deactivated:P,beforeDestroy:D,beforeUnmount:O,destroyed:j,unmounted:N,render:rt,renderTracked:mt,renderTriggered:Dt,errorCaptured:Y,serverPrefetch:pt,expose:ot,inheritAttrs:xt,components:B,directives:ut,filters:te}=t;if(c&&hm(c,r,null),o)for(const gt in o){const at=o[gt];X(at)&&(r[gt]=at.bind(n))}if(s){const gt=s.call(n,n);Et(gt)&&(e.data=vs(gt))}if(Zo=!0,i)for(const gt in i){const at=i[gt],Ue=X(at)?at.bind(n,n):X(at.get)?at.get.bind(n,n):Ee,Qe=!X(at)&&X(at.set)?at.set.bind(n):Ee,Ce=_e({get:Ue,set:Qe});Object.defineProperty(r,gt,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:re=>Ce.value=re})}if(a)for(const gt in a)uf(a[gt],r,n,gt);if(l){const gt=X(l)?l.call(n):l;Reflect.ownKeys(gt).forEach(at=>{ni(at,gt[at])})}u&&Pc(u,e,"c");function Ct(gt,at){z(at)?at.forEach(Ue=>gt(Ue.bind(n))):at&&gt(at.bind(n))}if(Ct(nm,h),Ct(af,f),Ct(rm,g),Ct(sm,v),Ct(Zg,I),Ct(tm,P),Ct(lm,Y),Ct(am,mt),Ct(om,Dt),Ct(lf,O),Ct(cf,N),Ct(im,pt),z(ot))if(ot.length){const gt=e.exposed||(e.exposed={});ot.forEach(at=>{Object.defineProperty(gt,at,{get:()=>n[at],set:Ue=>n[at]=Ue})})}else e.exposed||(e.exposed={});rt&&e.render===Ee&&(e.render=rt),xt!=null&&(e.inheritAttrs=xt),B&&(e.components=B),ut&&(e.directives=ut)}function hm(e,t,n=Ee){z(e)&&(e=ta(e));for(const r in e){const s=e[r];let i;Et(s)?"default"in s?i=ke(s.from||r,s.default,!0):i=ke(s.from||r):i=ke(s),Yt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Pc(e,t,n){de(z(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function uf(e,t,n,r){const s=r.includes(".")?ef(n,r):()=>n[r];if(At(e)){const i=t[e];X(i)&&ti(s,i)}else if(X(e))ti(s,e.bind(n));else if(Et(e))if(z(e))e.forEach(i=>uf(i,t,n,r));else{const i=X(e.handler)?e.handler.bind(n):t[e.handler];X(i)&&ti(s,i,e)}}function nl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>hi(l,c,o,!0)),hi(l,t,o)),Et(t)&&i.set(t,l),l}function hi(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&hi(e,i,n,!0),s&&s.forEach(o=>hi(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=fm[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const fm={data:Sc,props:bc,emits:bc,methods:Lr,computed:Lr,beforeCreate:ee,created:ee,beforeMount:ee,mounted:ee,beforeUpdate:ee,updated:ee,beforeDestroy:ee,beforeUnmount:ee,destroyed:ee,unmounted:ee,activated:ee,deactivated:ee,errorCaptured:ee,serverPrefetch:ee,components:Lr,directives:Lr,watch:pm,provide:Sc,inject:dm};function Sc(e,t){return t?e?function(){return Ot(X(e)?e.call(this,this):e,X(t)?t.call(this,this):t)}:t:e}function dm(e,t){return Lr(ta(e),ta(t))}function ta(e){if(z(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ee(e,t){return e?[...new Set([].concat(e,t))]:t}function Lr(e,t){return e?Ot(Object.create(null),e,t):t}function bc(e,t){return e?z(e)&&z(t)?[...new Set([...e,...t])]:Ot(Object.create(null),Rc(e),Rc(t??{})):t}function pm(e,t){if(!e)return t;if(!t)return e;const n=Ot(Object.create(null),e);for(const r in t)n[r]=ee(e[r],t[r]);return n}function hf(){return{app:null,config:{isNativeTag:Wp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gm=0;function mm(e,t){return function(r,s=null){X(r)||(r=Ot({},r)),s!=null&&!Et(s)&&(s=null);const i=hf(),o=new WeakSet;let a=!1;const l=i.app={_uid:gm++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:zm,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&X(c.install)?(o.add(c),c.install(l,...u)):X(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=wt(r,s);return f.appContext=i,u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,ol(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){fi=l;try{return c()}finally{fi=null}}};return l}}let fi=null;function ni(e,t){if(Mt){let n=Mt.provides;const r=Mt.parent&&Mt.parent.provides;r===n&&(n=Mt.provides=Object.create(r)),n[e]=t}}function ke(e,t,n=!1){const r=Mt||fe;if(r||fi){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:fi._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&X(t)?t.call(r&&r.proxy):t}}function _m(e,t,n,r=!1){const s={},i={};li(i,$i,1),e.propsDefaults=Object.create(null),ff(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Mh(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function ym(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=st(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Li(e.emitsOptions,f))continue;const g=t[f];if(l)if(tt(i,f))g!==i[f]&&(i[f]=g,c=!0);else{const v=Le(f);s[v]=ea(l,a,v,g,e,!1)}else g!==i[f]&&(i[f]=g,c=!0)}}}else{ff(e,t,s,i)&&(c=!0);let u;for(const h in a)(!t||!tt(t,h)&&((u=Er(h))===h||!tt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=ea(l,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!tt(t,h))&&(delete i[h],c=!0)}c&&je(e,"set","$attrs")}function ff(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Zs(l))continue;const c=t[l];let u;s&&tt(s,u=Le(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Li(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=st(n),c=a||vt;for(let u=0;u<i.length;u++){const h=i[u];n[h]=ea(s,l,h,c[h],e,!tt(c,h))}}return o}function ea(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=tt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&X(l)){const{propsDefaults:c}=s;n in c?r=c[n]:(lr(s),r=c[n]=l.call(null,t),Vn())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Er(n))&&(r=!0))}return r}function df(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!X(e)){const u=h=>{l=!0;const[f,g]=df(h,t,!0);Ot(o,f),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return Et(e)&&r.set(e,Xn),Xn;if(z(i))for(let u=0;u<i.length;u++){const h=Le(i[u]);Vc(h)&&(o[h]=vt)}else if(i)for(const u in i){const h=Le(u);if(Vc(h)){const f=i[u],g=o[h]=z(f)||X(f)?{type:f}:Ot({},f);if(g){const v=Nc(Boolean,g.type),I=Nc(String,g.type);g[0]=v>-1,g[1]=I<0||v<I,(v>-1||tt(g,"default"))&&a.push(h)}}}const c=[o,a];return Et(e)&&r.set(e,c),c}function Vc(e){return e[0]!=="$"}function Dc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function xc(e,t){return Dc(e)===Dc(t)}function Nc(e,t){return z(t)?t.findIndex(n=>xc(n,e)):X(t)&&xc(t,e)?0:-1}const pf=e=>e[0]==="_"||e==="$stable",rl=e=>z(e)?e.map(be):[be(e)],Em=(e,t,n)=>{if(t._n)return t;const r=ts((...s)=>rl(t(...s)),n);return r._c=!1,r},gf=(e,t,n)=>{const r=e._ctx;for(const s in e){if(pf(s))continue;const i=e[s];if(X(i))t[s]=Em(s,i,r);else if(i!=null){const o=rl(i);t[s]=()=>o}}},mf=(e,t)=>{const n=rl(t);e.slots.default=()=>n},vm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=st(t),li(t,"_",n)):gf(t,e.slots={})}else e.slots={},t&&mf(e,t);li(e.slots,$i,1)},Tm=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=vt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Ot(s,t),!n&&a===1&&delete s._):(i=!t.$stable,gf(t,s)),o=t}else t&&(mf(e,t),o={default:1});if(i)for(const a in s)!pf(a)&&o[a]==null&&delete s[a]};function na(e,t,n,r,s=!1){if(z(e)){e.forEach((f,g)=>na(f,t&&(z(t)?t[g]:t),n,r,s));return}if(ei(r)&&!s)return;const i=r.shapeFlag&4?ol(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===vt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(At(c)?(u[c]=null,tt(h,c)&&(h[c]=null)):Yt(c)&&(c.value=null)),X(l))an(l,a,12,[o,u]);else{const f=At(l),g=Yt(l);if(f||g){const v=()=>{if(e.f){const I=f?tt(h,l)?h[l]:u[l]:l.value;s?z(I)&&qa(I,i):z(I)?I.includes(i)||I.push(i):f?(u[l]=[i],tt(h,l)&&(h[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,tt(h,l)&&(h[l]=o)):g&&(l.value=o,e.k&&(u[e.k]=o))};o?(v.id=-1,se(v,n)):v()}}}const se=Wg;function wm(e){return Im(e)}function Im(e,t){const n=jo();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=Ee,insertStaticContent:v}=e,I=(d,p,m,_=null,E=null,T=null,x=!1,R=null,S=!!p.dynamicChildren)=>{if(d===p)return;d&&!In(d,p)&&(_=y(d),re(d,E,T,!0),d=null),p.patchFlag===-2&&(S=!1,p.dynamicChildren=null);const{type:C,ref:$,shapeFlag:L}=p;switch(C){case Ui:P(d,p,m,_);break;case ve:D(d,p,m,_);break;case ri:d==null&&O(p,m,_,x);break;case ae:B(d,p,m,_,E,T,x,R,S);break;default:L&1?rt(d,p,m,_,E,T,x,R,S):L&6?ut(d,p,m,_,E,T,x,R,S):(L&64||L&128)&&C.process(d,p,m,_,E,T,x,R,S,b)}$!=null&&E&&na($,d&&d.ref,T,p||d,!p)},P=(d,p,m,_)=>{if(d==null)r(p.el=a(p.children),m,_);else{const E=p.el=d.el;p.children!==d.children&&c(E,p.children)}},D=(d,p,m,_)=>{d==null?r(p.el=l(p.children||""),m,_):p.el=d.el},O=(d,p,m,_)=>{[d.el,d.anchor]=v(d.children,p,m,_,d.el,d.anchor)},j=({el:d,anchor:p},m,_)=>{let E;for(;d&&d!==p;)E=f(d),r(d,m,_),d=E;r(p,m,_)},N=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),s(d),d=m;s(p)},rt=(d,p,m,_,E,T,x,R,S)=>{x=x||p.type==="svg",d==null?mt(p,m,_,E,T,x,R,S):pt(d,p,E,T,x,R,S)},mt=(d,p,m,_,E,T,x,R)=>{let S,C;const{type:$,props:L,shapeFlag:H,transition:G,dirs:J}=d;if(S=d.el=o(d.type,T,L&&L.is,L),H&8?u(S,d.children):H&16&&Y(d.children,S,null,_,E,T&&$!=="foreignObject",x,R),J&&_n(d,null,_,"created"),Dt(S,d,d.scopeId,x,_),L){for(const dt in L)dt!=="value"&&!Zs(dt)&&i(S,dt,null,L[dt],T,d.children,_,E,jt);"value"in L&&i(S,"value",null,L.value),(C=L.onVnodeBeforeMount)&&Re(C,_,d)}J&&_n(d,null,_,"beforeMount");const _t=Cm(E,G);_t&&G.beforeEnter(S),r(S,p,m),((C=L&&L.onVnodeMounted)||_t||J)&&se(()=>{C&&Re(C,_,d),_t&&G.enter(S),J&&_n(d,null,_,"mounted")},E)},Dt=(d,p,m,_,E)=>{if(m&&g(d,m),_)for(let T=0;T<_.length;T++)g(d,_[T]);if(E){let T=E.subTree;if(p===T){const x=E.vnode;Dt(d,x,x.scopeId,x.slotScopeIds,E.parent)}}},Y=(d,p,m,_,E,T,x,R,S=0)=>{for(let C=S;C<d.length;C++){const $=d[C]=R?en(d[C]):be(d[C]);I(null,$,p,m,_,E,T,x,R)}},pt=(d,p,m,_,E,T,x)=>{const R=p.el=d.el;let{patchFlag:S,dynamicChildren:C,dirs:$}=p;S|=d.patchFlag&16;const L=d.props||vt,H=p.props||vt;let G;m&&yn(m,!1),(G=H.onVnodeBeforeUpdate)&&Re(G,m,p,d),$&&_n(p,d,m,"beforeUpdate"),m&&yn(m,!0);const J=E&&p.type!=="foreignObject";if(C?ot(d.dynamicChildren,C,R,m,_,J,T):x||at(d,p,R,null,m,_,J,T,!1),S>0){if(S&16)xt(R,p,L,H,m,_,E);else if(S&2&&L.class!==H.class&&i(R,"class",null,H.class,E),S&4&&i(R,"style",L.style,H.style,E),S&8){const _t=p.dynamicProps;for(let dt=0;dt<_t.length;dt++){const Pt=_t[dt],pe=L[Pt],Hn=H[Pt];(Hn!==pe||Pt==="value")&&i(R,Pt,pe,Hn,E,d.children,m,_,jt)}}S&1&&d.children!==p.children&&u(R,p.children)}else!x&&C==null&&xt(R,p,L,H,m,_,E);((G=H.onVnodeUpdated)||$)&&se(()=>{G&&Re(G,m,p,d),$&&_n(p,d,m,"updated")},_)},ot=(d,p,m,_,E,T,x)=>{for(let R=0;R<p.length;R++){const S=d[R],C=p[R],$=S.el&&(S.type===ae||!In(S,C)||S.shapeFlag&70)?h(S.el):m;I(S,C,$,null,_,E,T,x,!0)}},xt=(d,p,m,_,E,T,x)=>{if(m!==_){if(m!==vt)for(const R in m)!Zs(R)&&!(R in _)&&i(d,R,m[R],null,x,p.children,E,T,jt);for(const R in _){if(Zs(R))continue;const S=_[R],C=m[R];S!==C&&R!=="value"&&i(d,R,C,S,x,p.children,E,T,jt)}"value"in _&&i(d,"value",m.value,_.value)}},B=(d,p,m,_,E,T,x,R,S)=>{const C=p.el=d?d.el:a(""),$=p.anchor=d?d.anchor:a("");let{patchFlag:L,dynamicChildren:H,slotScopeIds:G}=p;G&&(R=R?R.concat(G):G),d==null?(r(C,m,_),r($,m,_),Y(p.children,m,$,E,T,x,R,S)):L>0&&L&64&&H&&d.dynamicChildren?(ot(d.dynamicChildren,H,m,E,T,x,R),(p.key!=null||E&&p===E.subTree)&&_f(d,p,!0)):at(d,p,m,$,E,T,x,R,S)},ut=(d,p,m,_,E,T,x,R,S)=>{p.slotScopeIds=R,d==null?p.shapeFlag&512?E.ctx.activate(p,m,_,x,S):te(p,m,_,E,T,x,S):Be(d,p,S)},te=(d,p,m,_,E,T,x)=>{const R=d.component=km(d,_,E);if(Fi(d)&&(R.ctx.renderer=b),Lm(R),R.asyncDep){if(E&&E.registerDep(R,Ct),!d.el){const S=R.subTree=wt(ve);D(null,S,p,m)}return}Ct(R,d,p,m,E,T,x)},Be=(d,p,m)=>{const _=p.component=d.component;if(jg(d,p,m))if(_.asyncDep&&!_.asyncResolved){gt(_,p,m);return}else _.next=p,Fg(_.update),_.update();else p.el=d.el,_.vnode=p},Ct=(d,p,m,_,E,T,x)=>{const R=()=>{if(d.isMounted){let{next:$,bu:L,u:H,parent:G,vnode:J}=d,_t=$,dt;yn(d,!1),$?($.el=J.el,gt(d,$,x)):$=J,L&&mo(L),(dt=$.props&&$.props.onVnodeBeforeUpdate)&&Re(dt,G,$,J),yn(d,!0);const Pt=_o(d),pe=d.subTree;d.subTree=Pt,I(pe,Pt,h(pe.el),y(pe),d,E,T),$.el=Pt.el,_t===null&&zg(d,Pt.el),H&&se(H,E),(dt=$.props&&$.props.onVnodeUpdated)&&se(()=>Re(dt,G,$,J),E)}else{let $;const{el:L,props:H}=p,{bm:G,m:J,parent:_t}=d,dt=ei(p);if(yn(d,!1),G&&mo(G),!dt&&($=H&&H.onVnodeBeforeMount)&&Re($,_t,p),yn(d,!0),L&&lt){const Pt=()=>{d.subTree=_o(d),lt(L,d.subTree,d,E,null)};dt?p.type.__asyncLoader().then(()=>!d.isUnmounted&&Pt()):Pt()}else{const Pt=d.subTree=_o(d);I(null,Pt,m,_,d,E,T),p.el=Pt.el}if(J&&se(J,E),!dt&&($=H&&H.onVnodeMounted)){const Pt=p;se(()=>Re($,_t,Pt),E)}(p.shapeFlag&256||_t&&ei(_t.vnode)&&_t.vnode.shapeFlag&256)&&d.a&&se(d.a,E),d.isMounted=!0,p=m=_=null}},S=d.effect=new Ga(R,()=>tl(C),d.scope),C=d.update=()=>S.run();C.id=d.uid,yn(d,!0),C()},gt=(d,p,m)=>{p.component=d;const _=d.vnode.props;d.vnode=p,d.next=null,ym(d,p.props,_,m),Tm(d,p.children,m),vr(),Tc(),Tr()},at=(d,p,m,_,E,T,x,R,S=!1)=>{const C=d&&d.children,$=d?d.shapeFlag:0,L=p.children,{patchFlag:H,shapeFlag:G}=p;if(H>0){if(H&128){Qe(C,L,m,_,E,T,x,R,S);return}else if(H&256){Ue(C,L,m,_,E,T,x,R,S);return}}G&8?($&16&&jt(C,E,T),L!==C&&u(m,L)):$&16?G&16?Qe(C,L,m,_,E,T,x,R,S):jt(C,E,T,!0):($&8&&u(m,""),G&16&&Y(L,m,_,E,T,x,R,S))},Ue=(d,p,m,_,E,T,x,R,S)=>{d=d||Xn,p=p||Xn;const C=d.length,$=p.length,L=Math.min(C,$);let H;for(H=0;H<L;H++){const G=p[H]=S?en(p[H]):be(p[H]);I(d[H],G,m,null,E,T,x,R,S)}C>$?jt(d,E,T,!0,!1,L):Y(p,m,_,E,T,x,R,S,L)},Qe=(d,p,m,_,E,T,x,R,S)=>{let C=0;const $=p.length;let L=d.length-1,H=$-1;for(;C<=L&&C<=H;){const G=d[C],J=p[C]=S?en(p[C]):be(p[C]);if(In(G,J))I(G,J,m,null,E,T,x,R,S);else break;C++}for(;C<=L&&C<=H;){const G=d[L],J=p[H]=S?en(p[H]):be(p[H]);if(In(G,J))I(G,J,m,null,E,T,x,R,S);else break;L--,H--}if(C>L){if(C<=H){const G=H+1,J=G<$?p[G].el:_;for(;C<=H;)I(null,p[C]=S?en(p[C]):be(p[C]),m,J,E,T,x,R,S),C++}}else if(C>H)for(;C<=L;)re(d[C],E,T,!0),C++;else{const G=C,J=C,_t=new Map;for(C=J;C<=H;C++){const oe=p[C]=S?en(p[C]):be(p[C]);oe.key!=null&&_t.set(oe.key,C)}let dt,Pt=0;const pe=H-J+1;let Hn=!1,cc=0;const Vr=new Array(pe);for(C=0;C<pe;C++)Vr[C]=0;for(C=G;C<=L;C++){const oe=d[C];if(Pt>=pe){re(oe,E,T,!0);continue}let Ae;if(oe.key!=null)Ae=_t.get(oe.key);else for(dt=J;dt<=H;dt++)if(Vr[dt-J]===0&&In(oe,p[dt])){Ae=dt;break}Ae===void 0?re(oe,E,T,!0):(Vr[Ae-J]=C+1,Ae>=cc?cc=Ae:Hn=!0,I(oe,p[Ae],m,null,E,T,x,R,S),Pt++)}const uc=Hn?Am(Vr):Xn;for(dt=uc.length-1,C=pe-1;C>=0;C--){const oe=J+C,Ae=p[oe],hc=oe+1<$?p[oe+1].el:_;Vr[C]===0?I(null,Ae,m,hc,E,T,x,R,S):Hn&&(dt<0||C!==uc[dt]?Ce(Ae,m,hc,2):dt--)}}},Ce=(d,p,m,_,E=null)=>{const{el:T,type:x,transition:R,children:S,shapeFlag:C}=d;if(C&6){Ce(d.component.subTree,p,m,_);return}if(C&128){d.suspense.move(p,m,_);return}if(C&64){x.move(d,p,m,b);return}if(x===ae){r(T,p,m);for(let L=0;L<S.length;L++)Ce(S[L],p,m,_);r(d.anchor,p,m);return}if(x===ri){j(d,p,m);return}if(_!==2&&C&1&&R)if(_===0)R.beforeEnter(T),r(T,p,m),se(()=>R.enter(T),E);else{const{leave:L,delayLeave:H,afterLeave:G}=R,J=()=>r(T,p,m),_t=()=>{L(T,()=>{J(),G&&G()})};H?H(T,J,_t):_t()}else r(T,p,m)},re=(d,p,m,_=!1,E=!1)=>{const{type:T,props:x,ref:R,children:S,dynamicChildren:C,shapeFlag:$,patchFlag:L,dirs:H}=d;if(R!=null&&na(R,null,m,d,!0),$&256){p.ctx.deactivate(d);return}const G=$&1&&H,J=!ei(d);let _t;if(J&&(_t=x&&x.onVnodeBeforeUnmount)&&Re(_t,p,d),$&6)Ms(d.component,m,_);else{if($&128){d.suspense.unmount(m,_);return}G&&_n(d,null,p,"beforeUnmount"),$&64?d.type.remove(d,p,m,E,b,_):C&&(T!==ae||L>0&&L&64)?jt(C,p,m,!1,!0):(T===ae&&L&384||!E&&$&16)&&jt(S,p,m),_&&Un(d)}(J&&(_t=x&&x.onVnodeUnmounted)||G)&&se(()=>{_t&&Re(_t,p,d),G&&_n(d,null,p,"unmounted")},m)},Un=d=>{const{type:p,el:m,anchor:_,transition:E}=d;if(p===ae){$n(m,_);return}if(p===ri){N(d);return}const T=()=>{s(m),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(d.shapeFlag&1&&E&&!E.persisted){const{leave:x,delayLeave:R}=E,S=()=>x(m,T);R?R(d.el,T,S):S()}else T()},$n=(d,p)=>{let m;for(;d!==p;)m=f(d),s(d),d=m;s(p)},Ms=(d,p,m)=>{const{bum:_,scope:E,update:T,subTree:x,um:R}=d;_&&mo(_),E.stop(),T&&(T.active=!1,re(x,d,p,m)),R&&se(R,p),se(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},jt=(d,p,m,_=!1,E=!1,T=0)=>{for(let x=T;x<d.length;x++)re(d[x],p,m,_,E)},y=d=>d.shapeFlag&6?y(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),k=(d,p,m)=>{d==null?p._vnode&&re(p._vnode,null,null,!0):I(p._vnode||null,d,p,null,null,null,m),Tc(),Gh(),p._vnode=d},b={p:I,um:re,m:Ce,r:Un,mt:te,mc:Y,pc:at,pbc:ot,n:y,o:e};let U,lt;return t&&([U,lt]=t(b)),{render:k,hydrate:U,createApp:mm(k,U)}}function yn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Cm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _f(e,t,n=!1){const r=e.children,s=t.children;if(z(r)&&z(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=en(s[i]),a.el=o.el),n||_f(o,a)),a.type===Ui&&(a.el=o.el)}}function Am(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const Rm=e=>e.__isTeleport,ae=Symbol.for("v-fgt"),Ui=Symbol.for("v-txt"),ve=Symbol.for("v-cmt"),ri=Symbol.for("v-stc"),qr=[];let ye=null;function ue(e=!1){qr.push(ye=e?null:[])}function Pm(){qr.pop(),ye=qr[qr.length-1]||null}let es=1;function Oc(e){es+=e}function yf(e){return e.dynamicChildren=es>0?ye||Xn:null,Pm(),es>0&&ye&&ye.push(e),e}function Pe(e,t,n,r,s,i){return yf(Se(e,t,n,r,s,i,!0))}function Ef(e,t,n,r,s){return yf(wt(e,t,n,r,s,!0))}function ra(e){return e?e.__v_isVNode===!0:!1}function In(e,t){return e.type===t.type&&e.key===t.key}const $i="__vInternal",vf=({key:e})=>e??null,si=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?At(e)||Yt(e)||X(e)?{i:fe,r:e,k:t,f:!!n}:e:null);function Se(e,t=null,n=null,r=0,s=null,i=e===ae?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&vf(t),ref:t&&si(t),scopeId:Yh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:fe};return a?(sl(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=At(n)?8:16),es>0&&!o&&ye&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ye.push(l),l}const wt=Sm;function Sm(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Jh)&&(e=ve),ra(e)){const a=hn(e,t,!0);return n&&sl(a,n),es>0&&!i&&ye&&(a.shapeFlag&6?ye[ye.indexOf(e)]=a:ye.push(a)),a.patchFlag|=-2,a}if(Hm(e)&&(e=e.__vccOpts),t){t=bm(t);let{class:a,style:l}=t;a&&!At(a)&&(t.class=za(a)),Et(l)&&(Fh(l)&&!z(l)&&(l=Ot({},l)),t.style=Es(l))}const o=At(e)?1:Gg(e)?128:Rm(e)?64:Et(e)?4:X(e)?2:0;return Se(e,t,n,r,s,o,i,!0)}function bm(e){return e?Fh(e)||$i in e?Ot({},e):e:null}function hn(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?xm(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&vf(a),ref:t&&t.ref?n&&s?z(s)?s.concat(si(t)):[s,si(t)]:si(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ae?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hn(e.ssContent),ssFallback:e.ssFallback&&hn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Vm(e=" ",t=0){return wt(Ui,null,e,t)}function Dm(e,t){const n=wt(ri,null,e);return n.staticCount=t,n}function V5(e="",t=!1){return t?(ue(),Ef(ve,null,e)):wt(ve,null,e)}function be(e){return e==null||typeof e=="boolean"?wt(ve):z(e)?wt(ae,null,e.slice()):typeof e=="object"?en(e):wt(Ui,null,String(e))}function en(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:hn(e)}function sl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(z(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),sl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!($i in t)?t._ctx=fe:s===3&&fe&&(fe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else X(t)?(t={default:t,_ctx:fe},n=32):(t=String(t),r&64?(n=16,t=[Vm(t)]):n=8);e.children=t,e.shapeFlag|=n}function xm(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=za([t.class,r.class]));else if(s==="style")t.style=Es([t.style,r.style]);else if(Vi(s)){const i=t[s],o=r[s];o&&i!==o&&!(z(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Re(e,t,n,r=null){de(e,t,7,[n,r])}const Nm=hf();let Om=0;function km(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Nm,i={uid:Om++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ah(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:df(r,s),emitsOptions:Qh(r,s),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:r.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=$g.bind(null,i),e.ce&&e.ce(i),i}let Mt=null;const Mm=()=>Mt||fe;let il,qn,kc="__VUE_INSTANCE_SETTERS__";(qn=jo()[kc])||(qn=jo()[kc]=[]),qn.push(e=>Mt=e),il=e=>{qn.length>1?qn.forEach(t=>t(e)):qn[0](e)};const lr=e=>{il(e),e.scope.on()},Vn=()=>{Mt&&Mt.scope.off(),il(null)};function Tf(e){return e.vnode.shapeFlag&4}let ns=!1;function Lm(e,t=!1){ns=t;const{props:n,children:r}=e.vnode,s=Tf(e);_m(e,n,s,t),vm(e,r);const i=s?Fm(e,t):void 0;return ns=!1,i}function Fm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Xa(new Proxy(e.ctx,cm));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Um(e):null;lr(e),vr();const i=an(r,e,0,[e.props,s]);if(Tr(),Vn(),vh(i)){if(i.then(Vn,Vn),t)return i.then(o=>{Mc(e,o,t)}).catch(o=>{Mi(o,e,0)});e.asyncDep=i}else Mc(e,i,t)}else wf(e,t)}function Mc(e,t,n){X(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=qh(t)),wf(e,n)}let Lc;function wf(e,t,n){const r=e.type;if(!e.render){if(!t&&Lc&&!r.render){const s=r.template||nl(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Ot(Ot({isCustomElement:i,delimiters:a},o),l);r.render=Lc(s,c)}}e.render=r.render||Ee}{lr(e),vr();try{um(e)}finally{Tr(),Vn()}}}function Bm(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ie(e,"get","$attrs"),t[n]}}))}function Um(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Bm(e)},slots:e.slots,emit:e.emit,expose:t}}function ol(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(qh(Xa(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Hr)return Hr[n](e)},has(t,n){return n in t||n in Hr}}))}function $m(e,t=!0){return X(e)?e.displayName||e.name:e.name||t&&e.__name}function Hm(e){return X(e)&&"__vccOpts"in e}const _e=(e,t)=>kg(e,t,ns);function al(e,t,n){const r=arguments.length;return r===2?Et(t)&&!z(t)?ra(t)?wt(e,null,[t]):wt(e,t):wt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ra(n)&&(n=[n]),wt(e,t,n))}const qm=Symbol.for("v-scx"),jm=()=>ke(qm),zm="3.3.8",Km="http://www.w3.org/2000/svg",Cn=typeof document<"u"?document:null,Fc=Cn&&Cn.createElement("template"),Gm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Cn.createElementNS(Km,e):Cn.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Cn.createTextNode(e),createComment:e=>Cn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Cn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Fc.innerHTML=r?`<svg>${e}</svg>`:e;const a=Fc.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Xe="transition",Dr="animation",rs=Symbol("_vtc"),ll=(e,{slots:t})=>al(Jg,Wm(e),t);ll.displayName="Transition";const If={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ll.props=Ot({},nf,If);const En=(e,t=[])=>{z(e)?e.forEach(n=>n(...t)):e&&e(...t)},Bc=e=>e?z(e)?e.some(t=>t.length>1):e.length>1:!1;function Wm(e){const t={};for(const B in e)B in If||(t[B]=e[B]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,v=Qm(s),I=v&&v[0],P=v&&v[1],{onBeforeEnter:D,onEnter:O,onEnterCancelled:j,onLeave:N,onLeaveCancelled:rt,onBeforeAppear:mt=D,onAppear:Dt=O,onAppearCancelled:Y=j}=t,pt=(B,ut,te)=>{vn(B,ut?u:a),vn(B,ut?c:o),te&&te()},ot=(B,ut)=>{B._isLeaving=!1,vn(B,h),vn(B,g),vn(B,f),ut&&ut()},xt=B=>(ut,te)=>{const Be=B?Dt:O,Ct=()=>pt(ut,B,te);En(Be,[ut,Ct]),Uc(()=>{vn(ut,B?l:i),Je(ut,B?u:a),Bc(Be)||$c(ut,r,I,Ct)})};return Ot(t,{onBeforeEnter(B){En(D,[B]),Je(B,i),Je(B,o)},onBeforeAppear(B){En(mt,[B]),Je(B,l),Je(B,c)},onEnter:xt(!1),onAppear:xt(!0),onLeave(B,ut){B._isLeaving=!0;const te=()=>ot(B,ut);Je(B,h),Jm(),Je(B,f),Uc(()=>{B._isLeaving&&(vn(B,h),Je(B,g),Bc(N)||$c(B,r,P,te))}),En(N,[B,te])},onEnterCancelled(B){pt(B,!1),En(j,[B])},onAppearCancelled(B){pt(B,!0),En(Y,[B])},onLeaveCancelled(B){ot(B),En(rt,[B])}})}function Qm(e){if(e==null)return null;if(Et(e))return[vo(e.enter),vo(e.leave)];{const t=vo(e);return[t,t]}}function vo(e){return eg(e)}function Je(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[rs]||(e[rs]=new Set)).add(t)}function vn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[rs];n&&(n.delete(t),n.size||(e[rs]=void 0))}function Uc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ym=0;function $c(e,t,n,r){const s=e._endId=++Ym,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=Xm(e,t);if(!o)return r();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,f),i()},f=g=>{g.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,f)}function Xm(e,t){const n=window.getComputedStyle(e),r=v=>(n[v]||"").split(", "),s=r(`${Xe}Delay`),i=r(`${Xe}Duration`),o=Hc(s,i),a=r(`${Dr}Delay`),l=r(`${Dr}Duration`),c=Hc(a,l);let u=null,h=0,f=0;t===Xe?o>0&&(u=Xe,h=o,f=i.length):t===Dr?c>0&&(u=Dr,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?Xe:Dr:null,f=u?u===Xe?i.length:l.length:0);const g=u===Xe&&/\b(transform|all)(,|$)/.test(r(`${Xe}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:g}}function Hc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>qc(n)+qc(e[r])))}function qc(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Jm(){return document.body.offsetHeight}function Zm(e,t,n){const r=e[rs];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const t1=Symbol("_vod");function e1(e,t,n){const r=e.style,s=At(n);if(n&&!s){if(t&&!At(t))for(const i in t)n[i]==null&&sa(r,i,"");for(const i in n)sa(r,i,n[i])}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),t1 in e&&(r.display=i)}}const jc=/\s*!important$/;function sa(e,t,n){if(z(n))n.forEach(r=>sa(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=n1(e,t);jc.test(n)?e.setProperty(Er(r),n.replace(jc,""),"important"):e[r]=n}}const zc=["Webkit","Moz","ms"],To={};function n1(e,t){const n=To[t];if(n)return n;let r=Le(t);if(r!=="filter"&&r in e)return To[t]=r;r=Oi(r);for(let s=0;s<zc.length;s++){const i=zc[s]+r;if(i in e)return To[t]=i}return t}const Kc="http://www.w3.org/1999/xlink";function r1(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Kc,t.slice(6,t.length)):e.setAttributeNS(Kc,t,n);else{const i=ag(t);n==null||i&&!Ih(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function s1(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Ih(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function i1(e,t,n,r){e.addEventListener(t,n,r)}function o1(e,t,n,r){e.removeEventListener(t,n,r)}const Gc=Symbol("_vei");function a1(e,t,n,r,s=null){const i=e[Gc]||(e[Gc]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=l1(t);if(r){const c=i[t]=h1(r,s);i1(e,a,c,l)}else o&&(o1(e,a,o,l),i[t]=void 0)}}const Wc=/(?:Once|Passive|Capture)$/;function l1(e){let t;if(Wc.test(e)){t={};let r;for(;r=e.match(Wc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Er(e.slice(2)),t]}let wo=0;const c1=Promise.resolve(),u1=()=>wo||(c1.then(()=>wo=0),wo=Date.now());function h1(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;de(f1(r,n.value),t,5,[r])};return n.value=e,n.attached=u1(),n}function f1(e,t){if(z(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Qc=/^on[a-z]/,d1=(e,t,n,r,s=!1,i,o,a,l)=>{t==="class"?Zm(e,r,s):t==="style"?e1(e,n,r):Vi(t)?Ha(t)||a1(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):p1(e,t,r,s))?s1(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),r1(e,t,r,s))};function p1(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Qc.test(t)&&X(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Qc.test(t)&&At(n)?!1:t in e}const g1=Ot({patchProp:d1},Gm);let Yc;function m1(){return Yc||(Yc=wm(g1))}const _1=(...e)=>{const t=m1().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=y1(r);if(!s)return;const i=t._component;!X(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function y1(e){return At(e)?document.querySelector(e):e}var E1=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const v1=Symbol();var Xc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Xc||(Xc={}));function T1(){const e=lg(!0),t=e.run(()=>$h({}));let n=[],r=[];const s=Xa({install(i){s._a=i,i.provide(v1,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!E1?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const zn=typeof window<"u";function w1(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ht=Object.assign;function Io(e,t){const n={};for(const r in t){const s=t[r];n[r]=Te(s)?s.map(e):e(s)}return n}const jr=()=>{},Te=Array.isArray,I1=/\/$/,C1=e=>e.replace(I1,"");function Co(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=S1(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function A1(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Jc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function R1(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&cr(t.matched[r],n.matched[s])&&Cf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function cr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Cf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!P1(e[n],t[n]))return!1;return!0}function P1(e,t){return Te(e)?Zc(e,t):Te(t)?Zc(t,e):e===t}function Zc(e,t){return Te(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function S1(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var ss;(function(e){e.pop="pop",e.push="push"})(ss||(ss={}));var zr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(zr||(zr={}));function b1(e){if(!e)if(zn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),C1(e)}const V1=/^[^#]+#/;function D1(e,t){return e.replace(V1,"#")+t}function x1(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Hi=()=>({left:window.pageXOffset,top:window.pageYOffset});function N1(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=x1(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function tu(e,t){return(history.state?history.state.position-t:-1)+e}const ia=new Map;function O1(e,t){ia.set(e,t)}function k1(e){const t=ia.get(e);return ia.delete(e),t}let M1=()=>location.protocol+"//"+location.host;function Af(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Jc(l,"")}return Jc(n,e)+r+s}function L1(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const g=Af(e,location),v=n.value,I=t.value;let P=0;if(f){if(n.value=g,t.value=f,o&&o===v){o=null;return}P=I?f.position-I.position:0}else r(g);s.forEach(D=>{D(n.value,v,{delta:P,type:ss.pop,direction:P?P>0?zr.forward:zr.back:zr.unknown})})};function l(){o=n.value}function c(f){s.push(f);const g=()=>{const v=s.indexOf(f);v>-1&&s.splice(v,1)};return i.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(ht({},f.state,{scroll:Hi()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function eu(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Hi():null}}function F1(e){const{history:t,location:n}=window,r={value:Af(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:M1()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(l,c){const u=ht({},t.state,eu(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=ht({},s.value,t.state,{forward:l,scroll:Hi()});i(u.current,u,!0);const h=ht({},eu(r.value,l,null),{position:u.position+1},c);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function B1(e){e=b1(e);const t=F1(e),n=L1(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=ht({location:"",base:e,go:r,createHref:D1.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function U1(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),B1(e)}function $1(e){return typeof e=="string"||e&&typeof e=="object"}function Rf(e){return typeof e=="string"||typeof e=="symbol"}const Ze={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Pf=Symbol("");var nu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(nu||(nu={}));function ur(e,t){return ht(new Error,{type:e,[Pf]:!0},t)}function $e(e,t){return e instanceof Error&&Pf in e&&(t==null||!!(e.type&t))}const ru="[^/]+?",H1={sensitive:!1,strict:!1,start:!0,end:!0},q1=/[.+*?^${}()[\]/\\]/g;function j1(e,t){const n=ht({},H1,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(q1,"\\$&"),g+=40;else if(f.type===1){const{value:v,repeatable:I,optional:P,regexp:D}=f;i.push({name:v,repeatable:I,optional:P});const O=D||ru;if(O!==ru){g+=10;try{new RegExp(`(${O})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${v}" (${O}): `+N.message)}}let j=I?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;h||(j=P&&c.length<2?`(?:/${j})`:"/"+j),P&&(j+="?"),s+=j,g+=20,P&&(g+=-8),I&&(g+=-20),O===".*"&&(g+=-50)}u.push(g)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",v=i[f-1];h[v.name]=g&&v.repeatable?g.split("/"):g}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:v,repeatable:I,optional:P}=g,D=v in c?c[v]:"";if(Te(D)&&!I)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const O=Te(D)?D.join("/"):D;if(!O)if(P)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=O}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function z1(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function K1(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=z1(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(su(r))return 1;if(su(s))return-1}return s.length-r.length}function su(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const G1={type:0,value:""},W1=/[a-zA-Z0-9_]/;function Q1(e){if(!e)return[[]];if(e==="/")return[[G1]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:W1.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function Y1(e,t,n){const r=j1(Q1(e.path),n),s=ht(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function X1(e,t){const n=[],r=new Map;t=au({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,h,f){const g=!f,v=J1(u);v.aliasOf=f&&f.record;const I=au(t,u),P=[v];if("alias"in u){const j=typeof u.alias=="string"?[u.alias]:u.alias;for(const N of j)P.push(ht({},v,{components:f?f.record.components:v.components,path:N,aliasOf:f?f.record:v}))}let D,O;for(const j of P){const{path:N}=j;if(h&&N[0]!=="/"){const rt=h.record.path,mt=rt[rt.length-1]==="/"?"":"/";j.path=h.record.path+(N&&mt+N)}if(D=Y1(j,h,I),f?f.alias.push(D):(O=O||D,O!==D&&O.alias.push(D),g&&u.name&&!ou(D)&&o(u.name)),v.children){const rt=v.children;for(let mt=0;mt<rt.length;mt++)i(rt[mt],D,f&&f.children[mt])}f=f||D,(D.record.components&&Object.keys(D.record.components).length||D.record.name||D.record.redirect)&&l(D)}return O?()=>{o(O)}:jr}function o(u){if(Rf(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&K1(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Sf(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!ou(u)&&r.set(u.record.name,u)}function c(u,h){let f,g={},v,I;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw ur(1,{location:u});I=f.record.name,g=ht(iu(h.params,f.keys.filter(O=>!O.optional).map(O=>O.name)),u.params&&iu(u.params,f.keys.map(O=>O.name))),v=f.stringify(g)}else if("path"in u)v=u.path,f=n.find(O=>O.re.test(v)),f&&(g=f.parse(v),I=f.record.name);else{if(f=h.name?r.get(h.name):n.find(O=>O.re.test(h.path)),!f)throw ur(1,{location:u,currentLocation:h});I=f.record.name,g=ht({},h.params,u.params),v=f.stringify(g)}const P=[];let D=f;for(;D;)P.unshift(D.record),D=D.parent;return{name:I,path:v,params:g,matched:P,meta:t_(P)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function iu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function J1(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Z1(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Z1(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function ou(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function t_(e){return e.reduce((t,n)=>ht(t,n.meta),{})}function au(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Sf(e,t){return t.children.some(n=>n===e||Sf(e,n))}const bf=/#/g,e_=/&/g,n_=/\//g,r_=/=/g,s_=/\?/g,Vf=/\+/g,i_=/%5B/g,o_=/%5D/g,Df=/%5E/g,a_=/%60/g,xf=/%7B/g,l_=/%7C/g,Nf=/%7D/g,c_=/%20/g;function cl(e){return encodeURI(""+e).replace(l_,"|").replace(i_,"[").replace(o_,"]")}function u_(e){return cl(e).replace(xf,"{").replace(Nf,"}").replace(Df,"^")}function oa(e){return cl(e).replace(Vf,"%2B").replace(c_,"+").replace(bf,"%23").replace(e_,"%26").replace(a_,"`").replace(xf,"{").replace(Nf,"}").replace(Df,"^")}function h_(e){return oa(e).replace(r_,"%3D")}function f_(e){return cl(e).replace(bf,"%23").replace(s_,"%3F")}function d_(e){return e==null?"":f_(e).replace(n_,"%2F")}function di(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function p_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Vf," "),o=i.indexOf("="),a=di(o<0?i:i.slice(0,o)),l=o<0?null:di(i.slice(o+1));if(a in t){let c=t[a];Te(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function lu(e){let t="";for(let n in e){const r=e[n];if(n=h_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Te(r)?r.map(i=>i&&oa(i)):[r&&oa(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function g_(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Te(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const m_=Symbol(""),cu=Symbol(""),ul=Symbol(""),hl=Symbol(""),aa=Symbol("");function xr(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function nn(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(ur(4,{from:n,to:t})):h instanceof Error?a(h):$1(h)?a(ur(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},c=e.call(r&&r.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Ao(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(__(a)){const c=(a.__vccOpts||a)[t];c&&s.push(nn(c,n,r,i,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=w1(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&nn(f,n,r,i,o)()}))}}return s}function __(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function uu(e){const t=ke(ul),n=ke(hl),r=_e(()=>t.resolve(bn(e.to))),s=_e(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(cr.bind(null,u));if(f>-1)return f;const g=hu(l[c-2]);return c>1&&hu(u)===g&&h[h.length-1].path!==g?h.findIndex(cr.bind(null,l[c-2])):f}),i=_e(()=>s.value>-1&&T_(n.params,r.value.params)),o=_e(()=>s.value>-1&&s.value===n.matched.length-1&&Cf(n.params,r.value.params));function a(l={}){return v_(l)?t[bn(e.replace)?"replace":"push"](bn(e.to)).catch(jr):Promise.resolve()}return{route:r,href:_e(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const y_=wr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:uu,setup(e,{slots:t}){const n=vs(uu(e)),{options:r}=ke(ul),s=_e(()=>({[fu(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[fu(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:al("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),E_=y_;function v_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function T_(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Te(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function hu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const fu=(e,t,n)=>e??t??n,w_=wr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ke(aa),s=_e(()=>e.route||r.value),i=ke(cu,0),o=_e(()=>{let c=bn(i);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=_e(()=>s.value.matched[o.value]);ni(cu,_e(()=>o.value+1)),ni(m_,a),ni(aa,s);const l=$h();return ti(()=>[l.value,a.value,e.name],([c,u,h],[f,g,v])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!cr(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(I=>I(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return du(n.default,{Component:f,route:c});const g=h.props[u],v=g?g===!0?c.params:typeof g=="function"?g(c):g:null,P=al(f,ht({},v,t,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return du(n.default,{Component:P,route:c})||P}}});function du(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Of=w_;function I_(e){const t=X1(e.routes,e),n=e.parseQuery||p_,r=e.stringifyQuery||lu,s=e.history,i=xr(),o=xr(),a=xr(),l=Dg(Ze);let c=Ze;zn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Io.bind(null,y=>""+y),h=Io.bind(null,d_),f=Io.bind(null,di);function g(y,k){let b,U;return Rf(y)?(b=t.getRecordMatcher(y),U=k):U=y,t.addRoute(U,b)}function v(y){const k=t.getRecordMatcher(y);k&&t.removeRoute(k)}function I(){return t.getRoutes().map(y=>y.record)}function P(y){return!!t.getRecordMatcher(y)}function D(y,k){if(k=ht({},k||l.value),typeof y=="string"){const m=Co(n,y,k.path),_=t.resolve({path:m.path},k),E=s.createHref(m.fullPath);return ht(m,_,{params:f(_.params),hash:di(m.hash),redirectedFrom:void 0,href:E})}let b;if("path"in y)b=ht({},y,{path:Co(n,y.path,k.path).path});else{const m=ht({},y.params);for(const _ in m)m[_]==null&&delete m[_];b=ht({},y,{params:h(m)}),k.params=h(k.params)}const U=t.resolve(b,k),lt=y.hash||"";U.params=u(f(U.params));const d=A1(r,ht({},y,{hash:u_(lt),path:U.path})),p=s.createHref(d);return ht({fullPath:d,hash:lt,query:r===lu?g_(y.query):y.query||{}},U,{redirectedFrom:void 0,href:p})}function O(y){return typeof y=="string"?Co(n,y,l.value.path):ht({},y)}function j(y,k){if(c!==y)return ur(8,{from:k,to:y})}function N(y){return Dt(y)}function rt(y){return N(ht(O(y),{replace:!0}))}function mt(y){const k=y.matched[y.matched.length-1];if(k&&k.redirect){const{redirect:b}=k;let U=typeof b=="function"?b(y):b;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=O(U):{path:U},U.params={}),ht({query:y.query,hash:y.hash,params:"path"in U?{}:y.params},U)}}function Dt(y,k){const b=c=D(y),U=l.value,lt=y.state,d=y.force,p=y.replace===!0,m=mt(b);if(m)return Dt(ht(O(m),{state:typeof m=="object"?ht({},lt,m.state):lt,force:d,replace:p}),k||b);const _=b;_.redirectedFrom=k;let E;return!d&&R1(r,U,b)&&(E=ur(16,{to:_,from:U}),Ce(U,U,!0,!1)),(E?Promise.resolve(E):ot(_,U)).catch(T=>$e(T)?$e(T,2)?T:Qe(T):at(T,_,U)).then(T=>{if(T){if($e(T,2))return Dt(ht({replace:p},O(T.to),{state:typeof T.to=="object"?ht({},lt,T.to.state):lt,force:d}),k||_)}else T=B(_,U,!0,p,lt);return xt(_,U,T),T})}function Y(y,k){const b=j(y,k);return b?Promise.reject(b):Promise.resolve()}function pt(y){const k=$n.values().next().value;return k&&typeof k.runWithContext=="function"?k.runWithContext(y):y()}function ot(y,k){let b;const[U,lt,d]=C_(y,k);b=Ao(U.reverse(),"beforeRouteLeave",y,k);for(const m of U)m.leaveGuards.forEach(_=>{b.push(nn(_,y,k))});const p=Y.bind(null,y,k);return b.push(p),jt(b).then(()=>{b=[];for(const m of i.list())b.push(nn(m,y,k));return b.push(p),jt(b)}).then(()=>{b=Ao(lt,"beforeRouteUpdate",y,k);for(const m of lt)m.updateGuards.forEach(_=>{b.push(nn(_,y,k))});return b.push(p),jt(b)}).then(()=>{b=[];for(const m of d)if(m.beforeEnter)if(Te(m.beforeEnter))for(const _ of m.beforeEnter)b.push(nn(_,y,k));else b.push(nn(m.beforeEnter,y,k));return b.push(p),jt(b)}).then(()=>(y.matched.forEach(m=>m.enterCallbacks={}),b=Ao(d,"beforeRouteEnter",y,k),b.push(p),jt(b))).then(()=>{b=[];for(const m of o.list())b.push(nn(m,y,k));return b.push(p),jt(b)}).catch(m=>$e(m,8)?m:Promise.reject(m))}function xt(y,k,b){a.list().forEach(U=>pt(()=>U(y,k,b)))}function B(y,k,b,U,lt){const d=j(y,k);if(d)return d;const p=k===Ze,m=zn?history.state:{};b&&(U||p?s.replace(y.fullPath,ht({scroll:p&&m&&m.scroll},lt)):s.push(y.fullPath,lt)),l.value=y,Ce(y,k,b,p),Qe()}let ut;function te(){ut||(ut=s.listen((y,k,b)=>{if(!Ms.listening)return;const U=D(y),lt=mt(U);if(lt){Dt(ht(lt,{replace:!0}),U).catch(jr);return}c=U;const d=l.value;zn&&O1(tu(d.fullPath,b.delta),Hi()),ot(U,d).catch(p=>$e(p,12)?p:$e(p,2)?(Dt(p.to,U).then(m=>{$e(m,20)&&!b.delta&&b.type===ss.pop&&s.go(-1,!1)}).catch(jr),Promise.reject()):(b.delta&&s.go(-b.delta,!1),at(p,U,d))).then(p=>{p=p||B(U,d,!1),p&&(b.delta&&!$e(p,8)?s.go(-b.delta,!1):b.type===ss.pop&&$e(p,20)&&s.go(-1,!1)),xt(U,d,p)}).catch(jr)}))}let Be=xr(),Ct=xr(),gt;function at(y,k,b){Qe(y);const U=Ct.list();return U.length?U.forEach(lt=>lt(y,k,b)):console.error(y),Promise.reject(y)}function Ue(){return gt&&l.value!==Ze?Promise.resolve():new Promise((y,k)=>{Be.add([y,k])})}function Qe(y){return gt||(gt=!y,te(),Be.list().forEach(([k,b])=>y?b(y):k()),Be.reset()),y}function Ce(y,k,b,U){const{scrollBehavior:lt}=e;if(!zn||!lt)return Promise.resolve();const d=!b&&k1(tu(y.fullPath,0))||(U||!b)&&history.state&&history.state.scroll||null;return zh().then(()=>lt(y,k,d)).then(p=>p&&N1(p)).catch(p=>at(p,y,k))}const re=y=>s.go(y);let Un;const $n=new Set,Ms={currentRoute:l,listening:!0,addRoute:g,removeRoute:v,hasRoute:P,getRoutes:I,resolve:D,options:e,push:N,replace:rt,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ct.add,isReady:Ue,install(y){const k=this;y.component("RouterLink",E_),y.component("RouterView",Of),y.config.globalProperties.$router=k,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>bn(l)}),zn&&!Un&&l.value===Ze&&(Un=!0,N(s.location).catch(lt=>{}));const b={};for(const lt in Ze)Object.defineProperty(b,lt,{get:()=>l.value[lt],enumerable:!0});y.provide(ul,k),y.provide(hl,Mh(b)),y.provide(aa,l);const U=y.unmount;$n.add(y),y.unmount=function(){$n.delete(y),$n.size<1&&(c=Ze,ut&&ut(),ut=null,l.value=Ze,Un=!1,gt=!1),U()}}};function jt(y){return y.reduce((k,b)=>k.then(()=>pt(b)),Promise.resolve())}return Ms}function C_(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>cr(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>cr(c,l))||s.push(l))}return[n,r,s]}function D5(){return ke(hl)}const A_=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},R_={},P_={width:"250",height:"30",viewBox:"0 0 1969 188",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S_=Dm('<g id="Group 17"><g id="texto"><path d="M61.952 158.72H6.336C4.10667 158.72 2.464 158.251 1.408 157.312C0.469333 156.256 0 154.613 0 152.384V131.792C0 129.563 0.469333 127.979 1.408 127.04C2.464 125.984 4.10667 125.456 6.336 125.456H53.68C55.2053 125.456 56.32 124.987 57.024 124.048C57.8453 122.992 58.256 121.76 58.256 120.352C58.256 118.357 57.8453 116.891 57.024 115.952C56.32 115.013 55.2053 114.485 53.68 114.368L27.28 110.672C19.0667 109.499 12.4373 106.8 7.392 102.576C2.464 98.352 0 91.312 0 81.456V62.976C0 53.0027 3.22667 45.376 9.68 40.096C16.1333 34.6987 25.0507 32 36.432 32H85.712C87.9413 32 89.5253 32.528 90.464 33.584C91.52 34.5227 92.048 36.1067 92.048 38.336V59.28C92.048 61.5093 91.52 63.152 90.464 64.208C89.5253 65.1467 87.9413 65.616 85.712 65.616H44.704C43.1787 65.616 42.0053 66.144 41.184 67.2C40.3627 68.1387 39.952 69.3707 39.952 70.896C39.952 72.4213 40.3627 73.712 41.184 74.768C42.0053 75.824 43.1787 76.4107 44.704 76.528L70.928 80.048C79.1413 81.2213 85.7707 83.92 90.816 88.144C95.8613 92.368 98.384 99.408 98.384 109.264V127.744C98.384 137.717 95.0987 145.403 88.528 150.8C82.0747 156.08 73.216 158.72 61.952 158.72Z" fill="white"></path><path d="M180.158 158.72H151.646C149.417 158.72 147.774 158.251 146.718 157.312C145.779 156.256 145.31 154.613 145.31 152.384V129.856L118.382 93.776C115.683 90.1387 113.865 86.9707 112.926 84.272C112.105 81.5733 111.694 77.5253 111.694 72.128V38.336C111.694 36.1067 112.163 34.5227 113.102 33.584C114.158 32.528 115.801 32 118.03 32H145.134C147.363 32 148.947 32.528 149.886 33.584C150.942 34.5227 151.47 36.1067 151.47 38.336V67.2C151.47 68.3733 151.529 69.6053 151.646 70.896C151.763 72.1867 152.233 73.4187 153.054 74.592L161.15 87.264C161.737 88.32 162.323 89.0827 162.91 89.552C163.614 90.0213 164.435 90.256 165.374 90.256H167.134C168.073 90.256 168.835 90.0213 169.422 89.552C170.126 89.0827 170.771 88.32 171.358 87.264L179.454 74.592C180.275 73.4187 180.745 72.1867 180.862 70.896C180.979 69.6053 181.038 68.3733 181.038 67.2V38.336C181.038 36.1067 181.507 34.5227 182.446 33.584C183.502 32.528 185.145 32 187.374 32H213.598C215.827 32 217.411 32.528 218.35 33.584C219.406 34.5227 219.934 36.1067 219.934 38.336V72.128C219.934 77.5253 219.465 81.5733 218.526 84.272C217.587 86.9707 215.827 90.1387 213.246 93.776L186.494 130.032V152.384C186.494 154.613 185.966 156.256 184.91 157.312C183.971 158.251 182.387 158.72 180.158 158.72Z" fill="white"></path><path d="M272.748 158.72H246.348C244.118 158.72 242.476 158.251 241.42 157.312C240.481 156.256 240.012 154.613 240.012 152.384V38.336C240.012 36.1067 240.481 34.5227 241.42 33.584C242.476 32.528 244.118 32 246.348 32H264.652C266.881 32 268.758 32.352 270.284 33.056C271.926 33.76 273.51 34.992 275.036 36.752L309.18 75.824V38.336C309.18 36.1067 309.649 34.5227 310.588 33.584C311.644 32.528 313.286 32 315.516 32H341.916C344.145 32 345.729 32.528 346.668 33.584C347.724 34.5227 348.252 36.1067 348.252 38.336V152.384C348.252 154.613 347.724 156.256 346.668 157.312C345.729 158.251 344.145 158.72 341.916 158.72H315.516C313.286 158.72 311.644 158.251 310.588 157.312C309.649 156.256 309.18 154.613 309.18 152.384V130.736L279.084 94.304V152.384C279.084 154.613 278.556 156.256 277.5 157.312C276.561 158.251 274.977 158.72 272.748 158.72Z" fill="white"></path><path d="M432.367 158.72H403.855C401.626 158.72 399.983 158.251 398.927 157.312C397.989 156.256 397.519 154.613 397.519 152.384V65.968H371.647C369.418 65.968 367.775 65.4987 366.719 64.56C365.781 63.504 365.311 61.8613 365.311 59.632V38.336C365.311 36.1067 365.781 34.5227 366.719 33.584C367.775 32.528 369.418 32 371.647 32H464.575C466.805 32 468.389 32.528 469.327 33.584C470.383 34.5227 470.911 36.1067 470.911 38.336V59.632C470.911 61.8613 470.383 63.504 469.327 64.56C468.389 65.4987 466.805 65.968 464.575 65.968H438.703V152.384C438.703 154.613 438.175 156.256 437.119 157.312C436.181 158.251 434.597 158.72 432.367 158.72Z" fill="white"></path><path d="M521.643 158.72H494.363C492.134 158.72 490.491 158.251 489.435 157.312C488.497 156.256 488.027 154.613 488.027 152.384V38.336C488.027 36.1067 488.497 34.5227 489.435 33.584C490.491 32.528 492.134 32 494.363 32H521.643C523.873 32 525.457 32.528 526.395 33.584C527.451 34.5227 527.979 36.1067 527.979 38.336V76.528H557.371V38.336C557.371 36.1067 557.841 34.5227 558.779 33.584C559.835 32.528 561.478 32 563.707 32H590.987C593.217 32 594.801 32.528 595.739 33.584C596.795 34.5227 597.323 36.1067 597.323 38.336V152.384C597.323 154.613 596.795 156.256 595.739 157.312C594.801 158.251 593.217 158.72 590.987 158.72H563.707C561.478 158.72 559.835 158.251 558.779 157.312C557.841 156.256 557.371 154.613 557.371 152.384V113.312H527.979V152.384C527.979 154.613 527.451 156.256 526.395 157.312C525.457 158.251 523.873 158.72 521.643 158.72Z" fill="white"></path><path d="M709.574 158.72H627.91C625.681 158.72 624.038 158.251 622.982 157.312C622.044 156.256 621.574 154.613 621.574 152.384V38.336C621.574 36.1067 622.044 34.5227 622.982 33.584C624.038 32.528 625.681 32 627.91 32H709.574C711.804 32 713.388 32.528 714.326 33.584C715.382 34.5227 715.91 36.1067 715.91 38.336V58.928C715.91 61.1573 715.382 62.8 714.326 63.856C713.388 64.7947 711.804 65.264 709.574 65.264H660.998V78.816H695.318C697.548 78.816 699.132 79.344 700.07 80.4C701.126 81.3387 701.654 82.9227 701.654 85.152V103.984C701.654 106.213 701.126 107.856 700.07 108.912C699.132 109.851 697.548 110.32 695.318 110.32H660.998V125.456H709.574C711.804 125.456 713.388 125.984 714.326 127.04C715.382 127.979 715.91 129.563 715.91 131.792V152.384C715.91 154.613 715.382 156.256 714.326 157.312C713.388 158.251 711.804 158.72 709.574 158.72Z" fill="white"></path><path d="M796.57 158.72H768.058C765.829 158.72 764.186 158.251 763.13 157.312C762.192 156.256 761.722 154.613 761.722 152.384V65.968H735.851C733.621 65.968 731.978 65.4987 730.922 64.56C729.984 63.504 729.515 61.8613 729.515 59.632V38.336C729.515 36.1067 729.984 34.5227 730.922 33.584C731.978 32.528 733.621 32 735.851 32H828.779C831.008 32 832.592 32.528 833.531 33.584C834.587 34.5227 835.115 36.1067 835.115 38.336V59.632C835.115 61.8613 834.587 63.504 833.531 64.56C832.592 65.4987 831.008 65.968 828.779 65.968H802.906V152.384C802.906 154.613 802.379 156.256 801.323 157.312C800.384 158.251 798.8 158.72 796.57 158.72Z" fill="white"></path><path d="M855.75 158.72C853.521 158.72 851.879 158.251 850.823 157.312C849.884 156.256 849.414 154.613 849.414 152.384V131.44C849.414 129.211 849.884 127.627 850.823 126.688C851.879 125.632 853.521 125.104 855.75 125.104H873.174V65.968H855.75C853.521 65.968 851.879 65.4987 850.823 64.56C849.884 63.504 849.414 61.8613 849.414 59.632V38.336C849.414 36.1067 849.884 34.5227 850.823 33.584C851.879 32.528 853.521 32 855.75 32H930.727C932.956 32 934.54 32.528 935.479 33.584C936.535 34.5227 937.062 36.1067 937.062 38.336V59.632C937.062 61.8613 936.535 63.504 935.479 64.56C934.54 65.4987 932.956 65.968 930.727 65.968H913.654V125.104H930.727C932.956 125.104 934.54 125.632 935.479 126.688C936.535 127.627 937.062 129.211 937.062 131.44V152.384C937.062 154.613 936.535 156.256 935.479 157.312C934.54 158.251 932.956 158.72 930.727 158.72H855.75Z" fill="white"></path><path d="M1043.1 158.72H1000.15C985.486 158.72 974.574 155.787 967.417 149.92C960.377 144.053 956.857 135.019 956.857 122.816V68.08C956.857 55.8773 960.377 46.8427 967.417 40.976C974.574 34.992 985.486 32 1000.15 32H1043.1C1045.33 32 1046.91 32.528 1047.85 33.584C1048.9 34.5227 1049.43 36.1067 1049.43 38.336V59.632C1049.43 61.8613 1048.9 63.504 1047.85 64.56C1046.91 65.4987 1045.33 65.968 1043.1 65.968H1007.72C1004.08 65.968 1001.38 66.7307 999.625 68.256C997.865 69.664 996.985 71.8347 996.985 74.768V116.656C996.985 119.589 997.865 121.76 999.625 123.168C1001.38 124.459 1004.08 125.104 1007.72 125.104H1043.1C1045.33 125.104 1046.91 125.632 1047.85 126.688C1048.9 127.627 1049.43 129.211 1049.43 131.44V152.384C1049.43 154.613 1048.9 156.256 1047.85 157.312C1046.91 158.251 1045.33 158.72 1043.1 158.72Z" fill="white"></path><path d="M1193.14 158.72H1150.2C1135.53 158.72 1124.62 155.787 1117.46 149.92C1110.42 144.053 1106.9 135.019 1106.9 122.816V68.08C1106.9 55.8773 1110.42 46.8427 1117.46 40.976C1124.62 34.992 1135.53 32 1150.2 32H1193.14C1195.37 32 1196.96 32.528 1197.9 33.584C1198.95 34.5227 1199.48 36.1067 1199.48 38.336V59.632C1199.48 61.8613 1198.95 63.504 1197.9 64.56C1196.96 65.4987 1195.37 65.968 1193.14 65.968H1157.77C1154.13 65.968 1151.43 66.7307 1149.67 68.256C1147.91 69.664 1147.03 71.8347 1147.03 74.768V116.656C1147.03 119.589 1147.91 121.76 1149.67 123.168C1151.43 124.459 1154.13 125.104 1157.77 125.104H1193.14C1195.37 125.104 1196.96 125.632 1197.9 126.688C1198.95 127.627 1199.48 129.211 1199.48 131.44V152.384C1199.48 154.613 1198.95 156.256 1197.9 157.312C1196.96 158.251 1195.37 158.72 1193.14 158.72Z" fill="white"></path><path d="M1252.97 158.72H1225.69C1223.46 158.72 1221.82 158.251 1220.76 157.312C1219.82 156.256 1219.36 154.613 1219.36 152.384V38.336C1219.36 36.1067 1219.82 34.5227 1220.76 33.584C1221.82 32.528 1223.46 32 1225.69 32H1252.97C1255.2 32 1256.78 32.528 1257.72 33.584C1258.78 34.5227 1259.31 36.1067 1259.31 38.336V76.528H1288.7V38.336C1288.7 36.1067 1289.17 34.5227 1290.11 33.584C1291.16 32.528 1292.81 32 1295.04 32H1322.32C1324.54 32 1326.13 32.528 1327.07 33.584C1328.12 34.5227 1328.65 36.1067 1328.65 38.336V152.384C1328.65 154.613 1328.12 156.256 1327.07 157.312C1326.13 158.251 1324.54 158.72 1322.32 158.72H1295.04C1292.81 158.72 1291.16 158.251 1290.11 157.312C1289.17 156.256 1288.7 154.613 1288.7 152.384V113.312H1259.31V152.384C1259.31 154.613 1258.78 156.256 1257.72 157.312C1256.78 158.251 1255.2 158.72 1252.97 158.72Z" fill="white"></path><path d="M1398.84 68.96L1390.57 95.712H1418.2L1409.93 68.96C1409.46 67.904 1408.93 67.1413 1408.34 66.672C1407.87 66.2027 1407.29 65.968 1406.58 65.968H1402.18C1401.48 65.968 1400.83 66.2027 1400.25 66.672C1399.78 67.1413 1399.31 67.904 1398.84 68.96ZM1388.81 152.384C1388.81 154.613 1388.28 156.256 1387.22 157.312C1386.28 158.251 1384.7 158.72 1382.47 158.72H1356.6C1354.37 158.72 1352.73 158.251 1351.67 157.312C1350.73 156.256 1350.26 154.613 1350.26 152.384V105.92C1350.26 102.4 1350.79 98.352 1351.85 93.776C1353.02 89.2 1354.78 83.8613 1357.13 77.76L1372.44 37.808C1373.14 35.8133 1374.2 34.3467 1375.61 33.408C1377.13 32.4693 1379.07 32 1381.41 32H1428.76C1430.99 32 1432.81 32.4693 1434.21 33.408C1435.74 34.3467 1436.85 35.8133 1437.56 37.808L1452.87 77.76C1455.22 83.8613 1456.92 89.2 1457.97 93.776C1459.15 98.352 1459.73 102.4 1459.73 105.92V152.384C1459.73 154.613 1459.21 156.256 1458.15 157.312C1457.21 158.251 1455.63 158.72 1453.4 158.72H1426.82C1424.48 158.72 1422.72 158.251 1421.54 157.312C1420.49 156.256 1419.96 154.613 1419.96 152.384V127.744H1388.81V152.384Z" fill="white"></path><path d="M1521.24 63.68V86.208H1534.44C1537.49 86.208 1539.54 85.4453 1540.6 83.92C1541.66 82.2773 1542.18 80.2827 1542.18 77.936V71.952C1542.18 69.6053 1541.66 67.6693 1540.6 66.144C1539.54 64.5013 1537.49 63.68 1534.44 63.68H1521.24ZM1514.9 158.72H1487.8C1485.57 158.72 1483.93 158.251 1482.87 157.312C1481.93 156.256 1481.46 154.613 1481.46 152.384V38.336C1481.46 36.1067 1481.93 34.5227 1482.87 33.584C1483.93 32.528 1485.57 32 1487.8 32H1546.41C1559.55 32 1568.58 34.7573 1573.51 40.272C1578.56 45.6693 1581.08 52.7093 1581.08 61.392V69.488C1581.08 74.416 1580.32 78.64 1578.79 82.16C1577.38 85.5627 1574.86 88.0267 1571.22 89.552C1577.56 90.256 1582.66 92.8373 1586.54 97.296C1590.53 101.755 1592.52 107.68 1592.52 115.072V152.384C1592.52 154.613 1591.99 156.256 1590.94 157.312C1590 158.251 1588.41 158.72 1586.18 158.72H1558.9C1556.68 158.72 1555.03 158.251 1553.98 157.312C1553.04 156.256 1552.57 154.613 1552.57 152.384V125.456C1552.57 122.875 1552.04 120.997 1550.98 119.824C1550.05 118.533 1548.34 117.888 1545.88 117.888H1521.24V152.384C1521.24 154.613 1520.71 156.256 1519.66 157.312C1518.72 158.251 1517.13 158.72 1514.9 158.72Z" fill="white"></path><path d="M1644.82 158.72H1618.6C1616.37 158.72 1614.73 158.251 1613.67 157.312C1612.73 156.256 1612.26 154.613 1612.26 152.384V38.336C1612.26 36.1067 1612.73 34.5227 1613.67 33.584C1614.73 32.528 1616.37 32 1618.6 32H1646.93C1648.81 32 1650.34 32.4107 1651.51 33.232C1652.8 34.0533 1653.97 35.4027 1655.03 37.28L1670.87 65.968C1671.46 67.024 1671.93 67.7867 1672.28 68.256C1672.75 68.7253 1673.33 68.96 1674.04 68.96H1675.62C1676.33 68.96 1676.85 68.7253 1677.21 68.256C1677.68 67.7867 1678.2 67.024 1678.79 65.968L1694.45 37.28C1695.51 35.4027 1696.62 34.0533 1697.8 33.232C1699.09 32.4107 1700.67 32 1702.55 32H1731.06C1733.29 32 1734.88 32.528 1735.81 33.584C1736.87 34.5227 1737.4 36.1067 1737.4 38.336V152.384C1737.4 154.613 1736.87 156.256 1735.81 157.312C1734.88 158.251 1733.29 158.72 1731.06 158.72H1703.96C1701.73 158.72 1700.09 158.251 1699.03 157.312C1698.09 156.256 1697.62 154.613 1697.62 152.384V90.432L1687.24 109.616C1686.18 111.611 1684.89 113.077 1683.37 114.016C1681.96 114.837 1680.14 115.248 1677.91 115.248H1670.87C1668.64 115.248 1666.76 114.837 1665.24 114.016C1663.83 113.077 1662.6 111.611 1661.54 109.616L1651.16 90.432V152.384C1651.16 154.613 1650.63 156.256 1649.57 157.312C1648.64 158.251 1647.05 158.72 1644.82 158.72Z" fill="white"></path></g><path id="nota-musical" d="M1953.72 0.543561L1836.23 35.2411C1833.84 35.9903 1831.76 37.4807 1830.28 39.4955C1828.8 41.5104 1828 43.9447 1828 46.4447V142.437C1824.15 141.503 1820.21 141.02 1816.25 140.997C1796.79 140.997 1781 151.521 1781 164.499C1781 177.476 1796.79 188 1816.25 188C1835.71 188 1851.5 177.476 1851.5 164.499V78.6893L1945.5 51.1486V118.939C1941.65 118.002 1937.71 117.518 1933.75 117.496C1914.29 117.496 1898.5 128.02 1898.5 140.997C1898.5 153.974 1914.29 164.499 1933.75 164.499C1953.21 164.499 1969 153.978 1969 140.997V11.7398C1969 9.89505 1968.56 8.07666 1967.73 6.43175C1966.89 4.78685 1965.68 3.36164 1964.19 2.27147C1962.71 1.18131 1960.98 0.456814 1959.16 0.156627C1957.34 -0.143559 1955.48 -0.0110055 1953.72 0.543561Z" fill="url(#paint0_linear_214_60)"></path></g><defs><linearGradient id="paint0_linear_214_60" x1="1931.4" y1="-142.516" x2="1679.12" y2="7.77984e-07" gradientUnits="userSpaceOnUse"><stop offset="0.0260417" stop-color="#7064FE"></stop><stop offset="0.364583" stop-color="#89EDF3"></stop><stop offset="0.53125" stop-color="#9B5FFE"></stop><stop offset="0.796875" stop-color="#FDC250"></stop><stop offset="0.958333" stop-color="#FF5E5E"></stop></linearGradient></defs>',2),b_=[S_];function V_(e,t){return ue(),Pe("svg",P_,b_)}const D_=A_(R_,[["render",V_]]),x_={class:"navbar-sitio sticky-top"},N_={class:"container"},O_={class:"navbar-container d-flex justify-content-center align-items-center"},k_=wr({__name:"Navbar",setup(e){return(t,n)=>{const r=Xh("RouterLink");return ue(),Pe("nav",x_,[Se("div",N_,[Se("div",O_,[wt(r,{class:"navbar-logo mx-auto",to:"/"},{default:ts(()=>[wt(D_)]),_:1})])])])}}});const M_=wr({__name:"App",setup(e){return(t,n)=>(ue(),Pe(ae,null,[wt(k_),wt(bn(Of),null,{default:ts(({Component:r})=>[wt(ll,{name:"route",mode:"out-in"},{default:ts(()=>[(ue(),Ef(Kg(r)))]),_:2},1024)]),_:1})],64))}});const L_="modulepreload",F_=function(e){return"/synthetic-charm/"+e},pu={},B_=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=F_(i),i in pu)return;pu[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":L_,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},U_=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Mf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[u],n[h],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):U_(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new $_;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class $_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H_=function(e){const t=kf(e);return Mf.encodeByteArray(t,!0)},pi=function(e){return H_(e).replace(/\./g,"")},q_=function(e){try{return Mf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=()=>j_().__FIREBASE_DEFAULTS__,K_=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},G_=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&q_(e[1]);return t&&JSON.parse(t)},Lf=()=>{try{return z_()||K_()||G_()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},W_=e=>{var t,n;return(n=(t=Lf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Q_=e=>{const t=W_(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ff=()=>{var e;return(e=Lf())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[pi(JSON.stringify(n)),pi(JSON.stringify(o)),a].join(".")}function J_(){try{return typeof indexedDB=="object"}catch{return!1}}function Z_(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="FirebaseError";class Ir extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ty,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bf.prototype.create)}}class Bf{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?ey(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ir(s,a,r)}}function ey(e,t){return e.replace(ny,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const ny=/\{\$([^}]+)}/g;function la(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(gu(i)&&gu(o)){if(!la(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gu(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(e){return e&&e._delegate?e._delegate:e}class is{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Y_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iy(t))try{this.getOrInitializeService({instanceIdentifier:Tn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Tn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tn){return this.instances.has(t)}getOptions(t=Tn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sy(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Tn){return this.component?this.component.multipleInstances?t:Tn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sy(e){return e===Tn?void 0:e}function iy(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ry(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(et||(et={}));const ay={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},ly=et.INFO,cy={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},uy=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=cy[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uf{constructor(t){this.name=t,this._logLevel=ly,this._logHandler=uy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ay[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...t),this._logHandler(this,et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...t),this._logHandler(this,et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,et.INFO,...t),this._logHandler(this,et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,et.WARN,...t),this._logHandler(this,et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...t),this._logHandler(this,et.ERROR,...t)}}const hy=(e,t)=>t.some(n=>e instanceof n);let mu,_u;function fy(){return mu||(mu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dy(){return _u||(_u=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $f=new WeakMap,ca=new WeakMap,Hf=new WeakMap,Ro=new WeakMap,fl=new WeakMap;function py(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(ln(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&$f.set(n,e)}).catch(()=>{}),fl.set(t,e),t}function gy(e){if(ca.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});ca.set(e,t)}let ua={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ca.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Hf.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function my(e){ua=e(ua)}function _y(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Po(this),t,...n);return Hf.set(r,t.sort?t.sort():[t]),ln(r)}:dy().includes(e)?function(...t){return e.apply(Po(this),t),ln($f.get(this))}:function(...t){return ln(e.apply(Po(this),t))}}function yy(e){return typeof e=="function"?_y(e):(e instanceof IDBTransaction&&gy(e),hy(e,fy())?new Proxy(e,ua):e)}function ln(e){if(e instanceof IDBRequest)return py(e);if(Ro.has(e))return Ro.get(e);const t=yy(e);return t!==e&&(Ro.set(e,t),fl.set(t,e)),t}const Po=e=>fl.get(e);function Ey(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=ln(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ln(o.result),l.oldVersion,l.newVersion,ln(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const vy=["get","getKey","getAll","getAllKeys","count"],Ty=["put","add","delete","clear"],So=new Map;function yu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(So.get(t))return So.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Ty.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||vy.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return So.set(t,i),i}my(e=>({...e,get:(t,n,r)=>yu(t,n)||e.get(t,n,r),has:(t,n)=>!!yu(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Iy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Iy(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ha="@firebase/app",Eu="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new Uf("@firebase/app"),Cy="@firebase/app-compat",Ay="@firebase/analytics-compat",Ry="@firebase/analytics",Py="@firebase/app-check-compat",Sy="@firebase/app-check",by="@firebase/auth",Vy="@firebase/auth-compat",Dy="@firebase/database",xy="@firebase/database-compat",Ny="@firebase/functions",Oy="@firebase/functions-compat",ky="@firebase/installations",My="@firebase/installations-compat",Ly="@firebase/messaging",Fy="@firebase/messaging-compat",By="@firebase/performance",Uy="@firebase/performance-compat",$y="@firebase/remote-config",Hy="@firebase/remote-config-compat",qy="@firebase/storage",jy="@firebase/storage-compat",zy="@firebase/firestore",Ky="@firebase/firestore-compat",Gy="firebase",Wy="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]",Qy={[ha]:"fire-core",[Cy]:"fire-core-compat",[Ry]:"fire-analytics",[Ay]:"fire-analytics-compat",[Sy]:"fire-app-check",[Py]:"fire-app-check-compat",[by]:"fire-auth",[Vy]:"fire-auth-compat",[Dy]:"fire-rtdb",[xy]:"fire-rtdb-compat",[Ny]:"fire-fn",[Oy]:"fire-fn-compat",[ky]:"fire-iid",[My]:"fire-iid-compat",[Ly]:"fire-fcm",[Fy]:"fire-fcm-compat",[By]:"fire-perf",[Uy]:"fire-perf-compat",[$y]:"fire-rc",[Hy]:"fire-rc-compat",[qy]:"fire-gcs",[jy]:"fire-gcs-compat",[zy]:"fire-fst",[Ky]:"fire-fst-compat","fire-js":"fire-js",[Gy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Map,da=new Map;function Yy(e,t){try{e.container.addComponent(t)}catch(n){kn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _i(e){const t=e.name;if(da.has(t))return kn.debug(`There were multiple attempts to register component ${t}.`),!1;da.set(t,e);for(const n of mi.values())Yy(n,e);return!0}function Xy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},cn=new Bf("app","Firebase",Jy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=Wy;function qf(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:fa,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw cn.create("bad-app-name",{appName:String(s)});if(n||(n=Ff()),!n)throw cn.create("no-options");const i=mi.get(s);if(i){if(la(n,i.options)&&la(r,i.config))return i;throw cn.create("duplicate-app",{appName:s})}const o=new oy(s);for(const l of da.values())o.addComponent(l);const a=new Zy(n,r,o);return mi.set(s,a),a}function e0(e=fa){const t=mi.get(e);if(!t&&e===fa&&Ff())return qf();if(!t)throw cn.create("no-app",{appName:e});return t}function er(e,t,n){var r;let s=(r=Qy[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),kn.warn(a.join(" "));return}_i(new is(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="firebase-heartbeat-database",r0=1,os="firebase-heartbeat-store";let bo=null;function jf(){return bo||(bo=Ey(n0,r0,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(os)}}}).catch(e=>{throw cn.create("idb-open",{originalErrorMessage:e.message})})),bo}async function s0(e){try{return await(await jf()).transaction(os).objectStore(os).get(zf(e))}catch(t){if(t instanceof Ir)kn.warn(t.message);else{const n=cn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});kn.warn(n.message)}}}async function vu(e,t){try{const r=(await jf()).transaction(os,"readwrite");await r.objectStore(os).put(t,zf(e)),await r.done}catch(n){if(n instanceof Ir)kn.warn(n.message);else{const r=cn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kn.warn(r.message)}}}function zf(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=1024,o0=30*24*60*60*1e3;class a0{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tu();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=o0}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tu(),{heartbeatsToSend:r,unsentEntries:s}=l0(this._heartbeatsCache.heartbeats),i=pi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Tu(){return new Date().toISOString().substring(0,10)}function l0(e,t=i0){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),wu(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),wu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class c0{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J_()?Z_().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await s0(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function wu(e){return pi(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(e){_i(new is("platform-logger",t=>new wy(t),"PRIVATE")),_i(new is("heartbeat",t=>new a0(t),"PRIVATE")),er(ha,Eu,e),er(ha,Eu,"esm2017"),er("fire-js","")}u0("");var h0="firebase",f0="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(h0,f0,"app");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,dl=dl||{},K=d0||self;function qi(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ts(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function p0(e){return Object.prototype.hasOwnProperty.call(e,Vo)&&e[Vo]||(e[Vo]=++g0)}var Vo="closure_uid_"+(1e9*Math.random()>>>0),g0=0;function m0(e,t,n){return e.call.apply(e.bind,arguments)}function _0(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Xt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=m0:Xt=_0,Xt.apply(null,arguments)}function js(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Bt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function gn(){this.s=this.s,this.o=this.o}var y0=0;gn.prototype.s=!1;gn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),y0!=0)&&p0(this)};gn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function pl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Iu(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(qi(r)){const s=e.length||0,i=r.length||0;e.length=s+i;for(let o=0;o<i;o++)e[s+o]=r[o]}else e.push(r)}}function Jt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var E0=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{K.addEventListener("test",()=>{},t),K.removeEventListener("test",()=>{},t)}catch{}return e}();function as(e){return/^[\s\xa0]*$/.test(e)}function ji(){var e=K.navigator;return e&&(e=e.userAgent)?e:""}function De(e){return ji().indexOf(e)!=-1}function gl(e){return gl[" "](e),e}gl[" "]=function(){};function v0(e,t){var n=f2;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var T0=De("Opera"),hr=De("Trident")||De("MSIE"),Gf=De("Edge"),pa=Gf||hr,Wf=De("Gecko")&&!(ji().toLowerCase().indexOf("webkit")!=-1&&!De("Edge"))&&!(De("Trident")||De("MSIE"))&&!De("Edge"),w0=ji().toLowerCase().indexOf("webkit")!=-1&&!De("Edge");function Qf(){var e=K.document;return e?e.documentMode:void 0}var ga;t:{var Do="",xo=function(){var e=ji();if(Wf)return/rv:([^\);]+)(\)|;)/.exec(e);if(Gf)return/Edge\/([\d\.]+)/.exec(e);if(hr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(w0)return/WebKit\/(\S+)/.exec(e);if(T0)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(xo&&(Do=xo?xo[1]:""),hr){var No=Qf();if(No!=null&&No>parseFloat(Do)){ga=String(No);break t}}ga=Do}var ma;if(K.document&&hr){var Cu=Qf();ma=Cu||parseInt(ga,10)||void 0}else ma=void 0;var I0=ma;function ls(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wf){t:{try{gl(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:C0[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ls.$.h.call(this)}}Bt(ls,Jt);var C0={2:"touch",3:"pen",4:"mouse"};ls.prototype.h=function(){ls.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ws="closure_listenable_"+(1e6*Math.random()|0),A0=0;function R0(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++A0,this.fa=this.ia=!1}function zi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ml(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P0(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Yf(e){const t={};for(const n in e)t[n]=e[n];return t}const Au="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xf(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<Au.length;i++)n=Au[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ki(e){this.src=e,this.g={},this.h=0}Ki.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=ya(e,t,r,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new R0(t,this.src,i,!!r,s),t.ia=n,e.push(t)),t};function _a(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=Kf(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(zi(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ya(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}var _l="closure_lm_"+(1e6*Math.random()|0),Oo={};function Jf(e,t,n,r,s){if(r&&r.once)return td(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Jf(e,t[i],n,r,s);return null}return n=vl(n),e&&e[ws]?e.O(t,n,Ts(r)?!!r.capture:!!r,s):Zf(e,t,n,!1,r,s)}function Zf(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=Ts(s)?!!s.capture:!!s,a=El(e);if(a||(e[_l]=a=new Ki(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=S0(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)E0||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(nd(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function S0(){function e(n){return t.call(e.src,e.listener,n)}const t=b0;return e}function td(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)td(e,t[i],n,r,s);return null}return n=vl(n),e&&e[ws]?e.P(t,n,Ts(r)?!!r.capture:!!r,s):Zf(e,t,n,!0,r,s)}function ed(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)ed(e,t[i],n,r,s);else r=Ts(r)?!!r.capture:!!r,n=vl(n),e&&e[ws]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=ya(i,n,r,s),-1<n&&(zi(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=El(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ya(t,n,r,s)),(n=-1<e?t[e]:null)&&yl(n))}function yl(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ws])_a(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(nd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=El(t))?(_a(n,e),n.h==0&&(n.src=null,t[_l]=null)):zi(e)}}}function nd(e){return e in Oo?Oo[e]:Oo[e]="on"+e}function b0(e,t){if(e.fa)e=!0;else{t=new ls(t,this);var n=e.listener,r=e.la||e.src;e.ia&&yl(e),e=n.call(r,t)}return e}function El(e){return e=e[_l],e instanceof Ki?e:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function vl(e){return typeof e=="function"?e:(e[ko]||(e[ko]=function(t){return e.handleEvent(t)}),e[ko])}function Ft(){gn.call(this),this.i=new Ki(this),this.S=this,this.J=null}Bt(Ft,gn);Ft.prototype[ws]=!0;Ft.prototype.removeEventListener=function(e,t,n,r){ed(this,e,t,n,r)};function Ht(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Jt(t,e);else if(t instanceof Jt)t.target=t.target||e;else{var s=t;t=new Jt(r,e),Xf(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=zs(o,r,!0,t)&&s}if(o=t.g=e,s=zs(o,r,!0,t)&&s,s=zs(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=zs(o,r,!1,t)&&s}Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)zi(n[r]);delete e.g[t],e.h--}}this.J=null};Ft.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ft.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function zs(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&_a(e.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Tl=K.JSON.stringify;class V0{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function D0(){var e=wl;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class x0{constructor(){this.h=this.g=null}add(t,n){const r=rd.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var rd=new V0(()=>new N0,e=>e.reset());class N0{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function O0(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k0(e){K.setTimeout(()=>{throw e},0)}let cs,us=!1,wl=new x0,sd=()=>{const e=K.Promise.resolve(void 0);cs=()=>{e.then(M0)}};var M0=()=>{for(var e;e=D0();){try{e.h.call(e.g)}catch(n){k0(n)}var t=rd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}us=!1};function Gi(e,t){Ft.call(this),this.h=e||1,this.g=t||K,this.j=Xt(this.qb,this),this.l=Date.now()}Bt(Gi,Ft);V=Gi.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(Il(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Il(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}V.N=function(){Gi.$.N.call(this),Il(this),delete this.g};function Cl(e,t,n){if(typeof e=="function")n&&(e=Xt(e,n));else if(e&&typeof e.handleEvent=="function")e=Xt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:K.setTimeout(e,t||0)}function id(e){e.g=Cl(()=>{e.g=null,e.i&&(e.i=!1,id(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class L0 extends gn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:id(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(e){gn.call(this),this.h=e,this.g={}}Bt(hs,gn);var Ru=[];function od(e,t,n,r){Array.isArray(n)||(n&&(Ru[0]=n.toString()),n=Ru);for(var s=0;s<n.length;s++){var i=Jf(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function ad(e){ml(e.g,function(t,n){this.g.hasOwnProperty(n)&&yl(t)},e),e.g={}}hs.prototype.N=function(){hs.$.N.call(this),ad(this)};hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Wi(){this.g=!0}Wi.prototype.Ea=function(){this.g=!1};function F0(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function B0(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Yn(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$0(e,n)+(r?" "+r:"")})}function U0(e,t){e.info(function(){return"TIMEOUT: "+t})}Wi.prototype.info=function(){};function $0(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Tl(n)}catch{return t}}var Bn={},Pu=null;function Qi(){return Pu=Pu||new Ft}Bn.Ta="serverreachability";function ld(e){Jt.call(this,Bn.Ta,e)}Bt(ld,Jt);function fs(e){const t=Qi();Ht(t,new ld(t))}Bn.STAT_EVENT="statevent";function cd(e,t){Jt.call(this,Bn.STAT_EVENT,e),this.stat=t}Bt(cd,Jt);function ne(e){const t=Qi();Ht(t,new cd(t,e))}Bn.Ua="timingevent";function ud(e,t){Jt.call(this,Bn.Ua,e),this.size=t}Bt(ud,Jt);function Is(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){e()},t)}var Yi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Al(){}Al.prototype.h=null;function Su(e){return e.h||(e.h=e.i())}function fd(){}var Cs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rl(){Jt.call(this,"d")}Bt(Rl,Jt);function Pl(){Jt.call(this,"c")}Bt(Pl,Jt);var Ea;function Xi(){}Bt(Xi,Al);Xi.prototype.g=function(){return new XMLHttpRequest};Xi.prototype.i=function(){return{}};Ea=new Xi;function As(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new hs(this),this.P=H0,e=pa?125:void 0,this.V=new Gi(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dd}function dd(){this.i=null,this.g="",this.h=!1}var H0=45e3,va={},yi={};V=As.prototype;V.setTimeout=function(e){this.P=e};function Ta(e,t,n){e.L=1,e.v=Zi(ze(t)),e.s=n,e.S=!0,pd(e,null)}function pd(e,t){e.G=Date.now(),Rs(e),e.A=ze(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),wd(n.i,"t",r),e.C=0,n=e.l.J,e.h=new dd,e.g=qd(e.l,n?t:null,!e.s),0<e.O&&(e.M=new L0(Xt(e.Pa,e,e.g),e.O)),od(e.U,e.g,"readystatechange",e.nb),t=e.I?Yf(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),fs(),F0(e.j,e.u,e.A,e.m,e.W,e.s)}V.nb=function(e){e=e.target;const t=this.M;t&&Ne(e)==3?t.l():this.Pa(e)};V.Pa=function(e){try{if(e==this.g)t:{const u=Ne(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||pa||this.g&&(this.h.h||this.g.ja()||xu(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?fs(3):fs(2)),Ji(this);var n=this.g.da();this.ca=n;e:if(gd(this)){var r=xu(this.g);e="";var s=r.length,i=Ne(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),Kr(this);var o="";break e}this.h.i=new K.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,B0(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!as(a)){var c=a;break e}}c=null}if(n=c)Yn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wa(this,n);else{this.i=!1,this.o=3,ne(12),An(this),Kr(this);break t}}this.S?(md(this,u,o),pa&&this.i&&u==3&&(od(this.U,this.V,"tick",this.mb),this.V.start())):(Yn(this.j,this.m,o,null),wa(this,o)),u==4&&An(this),this.i&&!this.J&&(u==4?Bd(this.l,this):(this.i=!1,Rs(this)))}else c2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ne(12)):(this.o=0,ne(13)),An(this),Kr(this)}}}catch{}finally{}};function gd(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function md(e,t,n){let r=!0,s;for(;!e.J&&e.C<n.length;)if(s=q0(e,n),s==yi){t==4&&(e.o=4,ne(14),r=!1),Yn(e.j,e.m,null,"[Incomplete Response]");break}else if(s==va){e.o=4,ne(15),Yn(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Yn(e.j,e.m,s,null),wa(e,s);gd(e)&&s!=yi&&s!=va&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ne(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nl(t),t.M=!0,ne(11))):(Yn(e.j,e.m,n,"[Invalid Chunked Response]"),An(e),Kr(e))}V.mb=function(){if(this.g){var e=Ne(this.g),t=this.g.ja();this.C<t.length&&(Ji(this),md(this,e,t),this.i&&e!=4&&Rs(this))}};function q0(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?yi:(n=Number(t.substring(n,r)),isNaN(n)?va:(r+=1,r+n>t.length?yi:(t=t.slice(r,r+n),e.C=r+n,t)))}V.cancel=function(){this.J=!0,An(this)};function Rs(e){e.Y=Date.now()+e.P,_d(e,e.P)}function _d(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Is(Xt(e.lb,e),t)}function Ji(e){e.B&&(K.clearTimeout(e.B),e.B=null)}V.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(U0(this.j,this.A),this.L!=2&&(fs(),ne(17)),An(this),this.o=2,Kr(this)):_d(this,this.Y-e)};function Kr(e){e.l.H==0||e.J||Bd(e.l,e)}function An(e){Ji(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Il(e.V),ad(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function wa(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Ia(n.i,e))){if(!e.K&&Ia(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Ti(n),no(n);else break t;xl(n),ne(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Is(Xt(n.ib,n),6e3));if(1>=Ad(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rn(n,11)}else if((e.K||n.g==e)&&Ti(n),!as(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;i.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Sl(i,i.h),i.h=null))}if(r.F){const I=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,yt(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=Hd(r,r.J?r.pa:null,r.Y),o.K){Rd(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Ji(a),Rs(a)),r.g=o}else Ld(r);0<n.j.length&&ro(n)}else c[0]!="stop"&&c[0]!="close"||Rn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Rn(n,7):Dl(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}fs(4)}catch{}}function j0(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(qi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function z0(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(qi(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function yd(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(qi(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=z0(e),r=j0(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}var Ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K0(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Dn(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Dn){this.h=e.h,Ei(this,e.j),this.s=e.s,this.g=e.g,vi(this,e.m),this.l=e.l;var t=e.i,n=new ds;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bu(this,n),this.o=e.o}else e&&(t=String(e).match(Ed))?(this.h=!1,Ei(this,t[1]||"",!0),this.s=Fr(t[2]||""),this.g=Fr(t[3]||"",!0),vi(this,t[4]),this.l=Fr(t[5]||"",!0),bu(this,t[6]||"",!0),this.o=Fr(t[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}Dn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Br(t,Vu,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Br(t,Vu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Br(n,n.charAt(0)=="/"?Q0:W0,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Br(n,X0)),e.join("")};function ze(e){return new Dn(e)}function Ei(e,t,n){e.j=n?Fr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function bu(e,t,n){t instanceof ds?(e.i=t,J0(e.i,e.h)):(n||(t=Br(t,Y0)),e.i=new ds(t,e.h))}function yt(e,t,n){e.i.set(t,n)}function Zi(e){return yt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Br(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,G0),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function G0(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Vu=/[#\/\?@]/g,W0=/[#\?:]/g,Q0=/[#\?]/g,Y0=/[#\?@]/g,X0=/#/g;function ds(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mn(e){e.g||(e.g=new Map,e.h=0,e.i&&K0(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}V=ds.prototype;V.add=function(e,t){mn(this),this.i=null,e=Cr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function vd(e,t){mn(e),t=Cr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Td(e,t){return mn(e),t=Cr(e,t),e.g.has(t)}V.forEach=function(e,t){mn(this),this.g.forEach(function(n,r){n.forEach(function(s){e.call(t,s,r,this)},this)},this)};V.ta=function(){mn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let i=0;i<s.length;i++)n.push(t[r])}return n};V.Z=function(e){mn(this);let t=[];if(typeof e=="string")Td(this,e)&&(t=t.concat(this.g.get(Cr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};V.set=function(e,t){return mn(this),this.i=null,e=Cr(this,e),Td(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};V.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function wd(e,t,n){vd(e,t),0<n.length&&(e.i=null,e.g.set(Cr(e,t),pl(n)),e.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")};function Cr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function J0(e,t){t&&!e.j&&(mn(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(vd(this,r),wd(this,s,n))},e)),e.j=t}var Z0=class{constructor(e,t){this.g=e,this.map=t}};function Id(e){this.l=e||t2,K.PerformanceNavigationTiming?(e=K.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(K.g&&K.g.Ka&&K.g.Ka()&&K.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var t2=10;function Cd(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Ad(e){return e.h?1:e.g?e.g.size:0}function Ia(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Sl(e,t){e.g?e.g.add(t):e.h=t}function Rd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Id.prototype.cancel=function(){if(this.i=Pd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Pd(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return pl(e.i)}var e2=class{stringify(e){return K.JSON.stringify(e,void 0)}parse(e){return K.JSON.parse(e,void 0)}};function n2(){this.g=new e2}function r2(e,t,n){const r=n||"";try{yd(e,function(s,i){let o=s;Ts(s)&&(o=Tl(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function s2(e,t){const n=new Wi;if(K.Image){const r=new Image;r.onload=js(Ks,n,r,"TestLoadImage: loaded",!0,t),r.onerror=js(Ks,n,r,"TestLoadImage: error",!1,t),r.onabort=js(Ks,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=js(Ks,n,r,"TestLoadImage: timeout",!1,t),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ks(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function Ps(e){this.l=e.ec||null,this.j=e.ob||!1}Bt(Ps,Al);Ps.prototype.g=function(){return new to(this.l,this.j)};Ps.prototype.i=function(e){return function(){return e}}({});function to(e,t){Ft.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=bl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bt(to,Ft);var bl=0;V=to.prototype;V.open=function(e,t){if(this.readyState!=bl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ps(this)};V.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||K).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=bl};V.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Sd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}V.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ss(this):ps(this),this.readyState==3&&Sd(this)}};V.Za=function(e){this.g&&(this.response=this.responseText=e,Ss(this))};V.Ya=function(e){this.g&&(this.response=e,Ss(this))};V.ka=function(){this.g&&Ss(this)};function Ss(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ps(e)}V.setRequestHeader=function(e,t){this.v.append(e,t)};V.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ps(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var i2=K.JSON.parse;function It(e){Ft.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bd,this.L=this.M=!1}Bt(It,Ft);var bd="",o2=/^https?$/i,a2=["POST","PUT"];V=It.prototype;V.Oa=function(e){this.M=e};V.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ea.g(),this.C=this.u?Su(this.u):Su(Ea),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){Du(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=K.FormData&&e instanceof K.FormData,!(0<=Kf(a2,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xd(this),0<this.B&&((this.L=l2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=Cl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Du(this,i)}};function l2(e){return hr&&typeof e.timeout=="number"&&e.ontimeout!==void 0}V.ua=function(){typeof dl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))};function Du(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vd(e),eo(e)}function Vd(e){e.F||(e.F=!0,Ht(e,"complete"),Ht(e,"error"))}V.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ht(this,"complete"),Ht(this,"abort"),eo(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eo(this,!0)),It.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?Dd(this):this.kb())};V.kb=function(){Dd(this)};function Dd(e){if(e.h&&typeof dl<"u"&&(!e.C[1]||Ne(e)!=4||e.da()!=2)){if(e.v&&Ne(e)==4)Cl(e.La,0,e);else if(Ht(e,"readystatechange"),Ne(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var s=String(e.I).match(Ed)[1]||null;!s&&K.self&&K.self.location&&(s=K.self.location.protocol.slice(0,-1)),r=!o2.test(s?s.toLowerCase():"")}n=r}if(n)Ht(e,"complete"),Ht(e,"success");else{e.m=6;try{var i=2<Ne(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",Vd(e)}}finally{eo(e)}}}}function eo(e,t){if(e.g){xd(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ht(e,"ready");try{n.onreadystatechange=r}catch{}}}function xd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(K.clearTimeout(e.A),e.A=null)}V.isActive=function(){return!!this.g};function Ne(e){return e.g?e.g.readyState:0}V.da=function(){try{return 2<Ne(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),i2(t)}};function xu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case bd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function c2(e){const t={};e=(e.g&&2<=Ne(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(as(e[r]))continue;var n=O0(e[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}P0(t,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Nd(e){let t="";return ml(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Vl(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Nd(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):yt(e,t,n))}function Nr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Od(e){this.Ga=0,this.j=[],this.l=new Wi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Nr("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Nr("baseRetryDelayMs",5e3,e),this.hb=Nr("retryDelaySeedMs",1e4,e),this.eb=Nr("forwardChannelMaxRetries",2,e),this.xa=Nr("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Id(e&&e.concurrentRequestLimit),this.Ja=new n2,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=Od.prototype;V.ra=8;V.H=1;function Dl(e){if(kd(e),e.H==3){var t=e.W++,n=ze(e.I);if(yt(n,"SID",e.K),yt(n,"RID",t),yt(n,"TYPE","terminate"),bs(e,n),t=new As(e,e.l,t),t.L=2,t.v=Zi(ze(n)),n=!1,K.navigator&&K.navigator.sendBeacon)try{n=K.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&K.Image&&(new Image().src=t.v,n=!0),n||(t.g=qd(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Rs(t)}$d(e)}function no(e){e.g&&(Nl(e),e.g.cancel(),e.g=null)}function kd(e){no(e),e.u&&(K.clearTimeout(e.u),e.u=null),Ti(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&K.clearTimeout(e.m),e.m=null)}function ro(e){if(!Cd(e.i)&&!e.m){e.m=!0;var t=e.Na;cs||sd(),us||(cs(),us=!0),wl.add(t,e),e.C=0}}function u2(e,t){return Ad(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Is(Xt(e.Na,e,t),Ud(e,e.C)),e.C++,!0)}V.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new As(this,this.l,e);let i=this.s;if(this.U&&(i?(i=Yf(i),Xf(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Md(this,s,t),n=ze(this.I),yt(n,"RID",e),yt(n,"CVER",22),this.F&&yt(n,"X-HTTP-Session-Id",this.F),bs(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Nd(i)))+"&"+t:this.o&&Vl(n,this.o,i)),Sl(this.i,s),this.bb&&yt(n,"TYPE","init"),this.P?(yt(n,"$req",t),yt(n,"SID","null"),s.aa=!0,Ta(s,n,null)):Ta(s,n,t),this.H=2}}else this.H==3&&(e?Nu(this,e):this.j.length==0||Cd(this.i)||Nu(this))};function Nu(e,t){var n;t?n=t.m:n=e.W++;const r=ze(e.I);yt(r,"SID",e.K),yt(r,"RID",n),yt(r,"AID",e.V),bs(e,r),e.o&&e.s&&Vl(r,e.o,e.s),n=new As(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Md(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Sl(e.i,n),Ta(n,r,t)}function bs(e,t){e.na&&ml(e.na,function(n,r){yt(t,r,n)}),e.h&&yd({},function(n,r){yt(t,r,n)})}function Md(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Xt(e.h.Va,e.h,e):null;t:{var s=e.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{r2(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function Ld(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;cs||sd(),us||(cs(),us=!0),wl.add(t,e),e.A=0}}function xl(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Is(Xt(e.Ma,e),Ud(e,e.A)),e.A++,!0)}V.Ma=function(){if(this.u=null,Fd(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Is(Xt(this.jb,this),e)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ne(10),no(this),Fd(this))};function Nl(e){e.B!=null&&(K.clearTimeout(e.B),e.B=null)}function Fd(e){e.g=new As(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=ze(e.wa);yt(t,"RID","rpc"),yt(t,"SID",e.K),yt(t,"AID",e.V),yt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&yt(t,"TO",e.qa),yt(t,"TYPE","xmlhttp"),bs(e,t),e.o&&e.s&&Vl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Zi(ze(t)),n.s=null,n.S=!0,pd(n,e)}V.ib=function(){this.v!=null&&(this.v=null,no(this),xl(this),ne(19))};function Ti(e){e.v!=null&&(K.clearTimeout(e.v),e.v=null)}function Bd(e,t){var n=null;if(e.g==t){Ti(e),Nl(e),e.g=null;var r=2}else if(Ia(e.i,t))n=t.F,Rd(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;r=Qi(),Ht(r,new ud(r,n)),ro(e)}else Ld(e);else if(s=t.o,s==3||s==0&&0<t.ca||!(r==1&&u2(e,t)||r==2&&xl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Rn(e,5);break;case 4:Rn(e,10);break;case 3:Rn(e,6);break;default:Rn(e,2)}}}function Ud(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Rn(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Xt(e.pb,e);n||(n=new Dn("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||Ei(n,"https"),Zi(n)),s2(n.toString(),r)}else ne(2);e.H=0,e.h&&e.h.za(t),$d(e),kd(e)}V.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ne(2)):(this.l.info("Failed to ping google.com"),ne(1))};function $d(e){if(e.H=0,e.ma=[],e.h){const t=Pd(e.i);(t.length!=0||e.j.length!=0)&&(Iu(e.ma,t),Iu(e.ma,e.j),e.i.i.length=0,pl(e.j),e.j.length=0),e.h.ya()}}function Hd(e,t,n){var r=n instanceof Dn?ze(n):new Dn(n);if(r.g!="")t&&(r.g=t+"."+r.g),vi(r,r.m);else{var s=K.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new Dn(null);r&&Ei(i,r),t&&(i.g=t),s&&vi(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&yt(r,n,t),yt(r,"VER",e.ra),bs(e,r),r}function qd(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new It(new Ps({ob:!0})):new It(e.va),t.Oa(e.J),t}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function jd(){}V=jd.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function wi(){if(hr&&!(10<=Number(I0)))throw Error("Environmental error: no available transport.")}wi.prototype.g=function(e,t){return new le(e,t)};function le(e,t){Ft.call(this),this.g=new Od(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!as(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!as(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ar(this)}Bt(le,Ft);le.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ne(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Hd(e,null,e.Y),ro(e)};le.prototype.close=function(){Dl(this.g)};le.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Tl(e),e=n);t.j.push(new Z0(t.fb++,e)),t.H==3&&ro(t)};le.prototype.N=function(){this.g.h=null,delete this.j,Dl(this.g),delete this.g,le.$.N.call(this)};function zd(e){Rl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Bt(zd,Rl);function Kd(){Pl.call(this),this.status=1}Bt(Kd,Pl);function Ar(e){this.g=e}Bt(Ar,jd);Ar.prototype.Ba=function(){Ht(this.g,"a")};Ar.prototype.Aa=function(e){Ht(this.g,new zd(e))};Ar.prototype.za=function(e){Ht(this.g,new Kd)};Ar.prototype.ya=function(){Ht(this.g,"b")};function h2(){this.blockSize=-1}function we(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Bt(we,h2);we.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Mo(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[1]+3905402710&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[5]+1200080426&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[9]+2336552879&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[13]+4254626195&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^i&(n^s))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[6]+3225465664&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[10]+38016083&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[14]+3275163606&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[2]+4243563512&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^i)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[8]+2272392833&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[4]+1272893353&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[0]+3936430074&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[12]+3873151461&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~i))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[7]+1126891415&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[3]+2399980690&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[15]+4264355552&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[11]+3174756917&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}we.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(s==0)for(;i<=n;)Mo(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){Mo(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){Mo(this,r),s=0;break}}this.h=s,this.i+=t};we.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ft(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=e[s]|0;r&&i==t||(n[s]=i,r=!1)}this.g=n}var f2={};function Ol(e){return-128<=e&&128>e?v0(e,function(t){return new ft([t|0],0>t?-1:0)}):new ft([e|0],0>e?-1:0)}function Oe(e){if(isNaN(e)||!isFinite(e))return nr;if(0>e)return $t(Oe(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ca;return new ft(t,0)}function Gd(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return $t(Gd(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Oe(Math.pow(t,8)),r=nr,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+i),t);8>i?(i=Oe(Math.pow(t,i)),r=r.R(i).add(Oe(o))):(r=r.R(n),r=r.add(Oe(o)))}return r}var Ca=4294967296,nr=Ol(0),Aa=Ol(1),Ou=Ol(16777216);V=ft.prototype;V.ea=function(){if(he(this))return-$t(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ca+r)*t,t*=Ca}return e};V.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(qe(this))return"0";if(he(this))return"-"+$t(this).toString(e);for(var t=Oe(Math.pow(e,6)),n=this,r="";;){var s=Ci(n,t).g;n=Ii(n,s.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,qe(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};V.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function qe(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function he(e){return e.h==-1}V.X=function(e){return e=Ii(this,e),he(e)?-1:qe(e)?0:1};function $t(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ft(n,~e.h).add(Aa)}V.abs=function(){return he(this)?$t(this):this};V.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(this.D(s)&65535)+(e.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ft(n,n[n.length-1]&-2147483648?-1:0)};function Ii(e,t){return e.add($t(t))}V.R=function(e){if(qe(this)||qe(e))return nr;if(he(this))return he(e)?$t(this).R($t(e)):$t($t(this).R(e));if(he(e))return $t(this.R($t(e)));if(0>this.X(Ou)&&0>e.X(Ou))return Oe(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*r+2*s]+=o*l,Gs(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Gs(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Gs(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Gs(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ft(n,0)};function Gs(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Or(e,t){this.g=e,this.h=t}function Ci(e,t){if(qe(t))throw Error("division by zero");if(qe(e))return new Or(nr,nr);if(he(e))return t=Ci($t(e),t),new Or($t(t.g),$t(t.h));if(he(t))return t=Ci(e,$t(t)),new Or($t(t.g),t.h);if(30<e.g.length){if(he(e)||he(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Aa,r=t;0>=r.X(e);)n=ku(n),r=ku(r);var s=jn(n,1),i=jn(r,1);for(r=jn(r,2),n=jn(n,2);!qe(r);){var o=i.add(r);0>=o.X(e)&&(s=s.add(n),i=o),r=jn(r,1),n=jn(n,1)}return t=Ii(e,s.R(t)),new Or(s,t)}for(s=nr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Oe(n),o=i.R(t);he(o)||0<o.X(e);)n-=r,i=Oe(n),o=i.R(t);qe(i)&&(i=Aa),s=s.add(i),e=Ii(e,o)}return new Or(s,e)}V.gb=function(e){return Ci(this,e).h};V.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ft(n,this.h&e.h)};V.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ft(n,this.h|e.h)};V.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ft(n,this.h^e.h)};function ku(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ft(n,e.h)}function jn(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new ft(s,e.h)}wi.prototype.createWebChannel=wi.prototype.g;le.prototype.send=le.prototype.u;le.prototype.open=le.prototype.m;le.prototype.close=le.prototype.close;Yi.NO_ERROR=0;Yi.TIMEOUT=8;Yi.HTTP_ERROR=6;hd.COMPLETE="complete";fd.EventType=Cs;Cs.OPEN="a";Cs.CLOSE="b";Cs.ERROR="c";Cs.MESSAGE="d";Ft.prototype.listen=Ft.prototype.O;It.prototype.listenOnce=It.prototype.P;It.prototype.getLastError=It.prototype.Sa;It.prototype.getLastErrorCode=It.prototype.Ia;It.prototype.getStatus=It.prototype.da;It.prototype.getResponseJson=It.prototype.Wa;It.prototype.getResponseText=It.prototype.ja;It.prototype.send=It.prototype.ha;It.prototype.setWithCredentials=It.prototype.Oa;we.prototype.digest=we.prototype.l;we.prototype.reset=we.prototype.reset;we.prototype.update=we.prototype.j;ft.prototype.add=ft.prototype.add;ft.prototype.multiply=ft.prototype.R;ft.prototype.modulo=ft.prototype.gb;ft.prototype.compare=ft.prototype.X;ft.prototype.toNumber=ft.prototype.ea;ft.prototype.toString=ft.prototype.toString;ft.prototype.getBits=ft.prototype.D;ft.fromNumber=Oe;ft.fromString=Gd;var d2=function(){return new wi},p2=function(){return Qi()},Lo=Yi,g2=hd,m2=Bn,Mu={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_2=Ps,Ws=fd,y2=It,E2=we,rr=ft;const Lu="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Uf("@firebase/firestore");function kr(){return Mn.logLevel}function M(e,...t){if(Mn.logLevel<=et.DEBUG){const n=t.map(kl);Mn.debug(`Firestore (${Rr}): ${e}`,...n)}}function Ke(e,...t){if(Mn.logLevel<=et.ERROR){const n=t.map(kl);Mn.error(`Firestore (${Rr}): ${e}`,...n)}}function fr(e,...t){if(Mn.logLevel<=et.WARN){const n=t.map(kl);Mn.warn(`Firestore (${Rr}): ${e}`,...n)}}function kl(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: `+e;throw Ke(t),new Error(t)}function Nt(e,t){e||Q()}function it(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Ir{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class v2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class T2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class w2{constructor(t){this.t=t,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new xn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xn,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string"),new Wd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Nt(t===null||typeof t=="string"),new Kt(t)}}class I2{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class C2{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new I2(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Nt(typeof n.token=="string"),this.R=n.token,new A2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=P2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function ct(e,t){return e<t?-1:e>t?1:0}function dr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Lt.fromMillis(Date.now())}static fromDate(t){return Lt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ct(this.nanoseconds,t.nanoseconds):ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.timestamp=t}static fromTimestamp(t){return new W(t)}static min(){return new W(new Lt(0,0))}static max(){return new W(new Lt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,n,r){n===void 0?n=0:n>t.length&&Q(),r===void 0?r=t.length-n:r>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return gs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof gs?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Tt extends gs{construct(t,n,r){return new Tt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new F(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends gs{construct(t,n,r){return new Qt(t,n,r)}static isValidIdentifier(t){return b2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new F(A.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new F(A.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new F(A.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t){this.path=t}static fromPath(t){return new q(Tt.fromString(t))}static fromName(t){return new q(Tt.fromString(t).popFirst(5))}static empty(){return new q(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Tt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Tt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new q(new Tt(t.slice()))}}function V2(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=W.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new fn(s,q.empty(),t)}function D2(e){return new fn(e.readTime,e.key,-1)}class fn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new fn(W.min(),q.empty(),-1)}static max(){return new fn(W.max(),q.empty(),-1)}}function x2(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=q.comparator(e.documentKey,t.documentKey),n!==0?n:ct(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(e){if(e.code!==A.FAILED_PRECONDITION||e.message!==N2)throw e;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new w((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):w.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):w.reject(n)}static resolve(t){return new w((n,r)=>{n(t)})}static reject(t){return new w((n,r)=>{r(t)})}static waitFor(t){return new w((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(t){let n=w.resolve(!1);for(const r of t)n=n.next(s=>s?w.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new w((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(t,n){return new w((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function Vs(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Ll._e=-1;function so(e){return e==null}function Ai(e){return e===0&&1/e==-1/0}function k2(e){return typeof e=="number"&&Number.isInteger(e)&&!Ai(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ds(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t,n){this.comparator=t,this.root=n||Ut.EMPTY}insert(t,n){return new Rt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(t){return new Rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qs(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qs(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qs(this.root,t,this.comparator,!0)}}class Qs{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ut{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=i??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Ut(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,n,r,s,i){return this}insert(t,n,r){return new Ut(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t){this.comparator=t,this.data=new Rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bu(this.data.getIterator())}getIteratorFrom(t){return new Bu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof qt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new qt(this.comparator);return n.data=t,n}}class Bu{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.fields=t,t.sort(Qt.comparator)}static empty(){return new rn([])}unionWith(t){let n=new qt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new rn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return dr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Yd("Invalid base64 string: "+i):i}}(t);return new Zt(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new Zt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dn(e){if(Nt(!!e),typeof e=="string"){let t=0;const n=M2.exec(e);if(Nt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bt(e.seconds),nanos:bt(e.nanos)}}function bt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ln(e){return typeof e=="string"?Zt.fromBase64String(e):Zt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bl(e){const t=e.mapValue.fields.__previous_value__;return Fl(t)?Bl(t):t}function ms(e){const t=dn(e.mapValue.fields.__local_write_time__.timestampValue);return new Lt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n,r,s,i,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class _s{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new _s("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof _s&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fl(e)?4:F2(e)?9007199254740991:10:Q()}function Fe(e,t){if(e===t)return!0;const n=Fn(e);if(n!==Fn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ms(e).isEqual(ms(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=dn(s.timestampValue),a=dn(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return Ln(s.bytesValue).isEqual(Ln(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return bt(s.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return bt(s.integerValue)===bt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=bt(s.doubleValue),a=bt(i.doubleValue);return o===a?Ai(o)===Ai(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return dr(e.arrayValue.values||[],t.arrayValue.values||[],Fe);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Fu(o)!==Fu(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fe(o[l],a[l])))return!1;return!0}(e,t);default:return Q()}}function ys(e,t){return(e.values||[]).find(n=>Fe(n,t))!==void 0}function pr(e,t){if(e===t)return 0;const n=Fn(e),r=Fn(t);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=bt(i.integerValue||i.doubleValue),l=bt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Uu(e.timestampValue,t.timestampValue);case 4:return Uu(ms(e),ms(t));case 5:return ct(e.stringValue,t.stringValue);case 6:return function(i,o){const a=Ln(i),l=Ln(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ct(a[c],l[c]);if(u!==0)return u}return ct(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=ct(bt(i.latitude),bt(o.latitude));return a!==0?a:ct(bt(i.longitude),bt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=pr(a[c],l[c]);if(u)return u}return ct(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===Ys.mapValue&&o===Ys.mapValue)return 0;if(i===Ys.mapValue)return 1;if(o===Ys.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=ct(l[h],u[h]);if(f!==0)return f;const g=pr(a[l[h]],c[u[h]]);if(g!==0)return g}return ct(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Q()}}function Uu(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ct(e,t);const n=dn(e),r=dn(t),s=ct(n.seconds,r.seconds);return s!==0?s:ct(n.nanos,r.nanos)}function gr(e){return Ra(e)}function Ra(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=dn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ln(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ra(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ra(n.fields[o])}`;return s+"}"}(e.mapValue):Q()}function $u(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Pa(e){return!!e&&"integerValue"in e}function Ul(e){return!!e&&"arrayValue"in e}function Hu(e){return!!e&&"nullValue"in e}function qu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fo(e){return!!e&&"mapValue"in e}function Gr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ds(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Gr(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function F2(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.value=t}static empty(){return new xe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Fo(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gr(n)}setAll(t){let n=Qt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Gr(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Fo(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Fe(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Fo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Ds(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new xe(Gr(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Gt(t,0,W.min(),W.min(),W.min(),xe.empty(),0)}static newFoundDocument(t,n,r,s){return new Gt(t,1,n,W.min(),r,s,0)}static newNoDocument(t,n){return new Gt(t,2,n,W.min(),W.min(),xe.empty(),0)}static newUnknownDocument(t,n){return new Gt(t,3,n,W.min(),W.min(),xe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Gt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,n){this.position=t,this.inclusive=n}}function ju(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=pr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function zu(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Fe(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,n="asc"){this.field=t,this.dir=n}}function B2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{}class Vt extends Xd{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new $2(t,n,r):n==="array-contains"?new j2(t,r):n==="in"?new z2(t,r):n==="not-in"?new K2(t,r):n==="array-contains-any"?new G2(t,r):new Vt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new H2(t,r):new q2(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pr(n,this.value)):n!==null&&Fn(this.value)===Fn(n)&&this.matchesComparison(pr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ie extends Xd{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Ie(t,n)}matches(t){return Jd(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Jd(e){return e.op==="and"}function Zd(e){return U2(e)&&Jd(e)}function U2(e){for(const t of e.filters)if(t instanceof Ie)return!1;return!0}function Sa(e){if(e instanceof Vt)return e.field.canonicalString()+e.op.toString()+gr(e.value);if(Zd(e))return e.filters.map(t=>Sa(t)).join(",");{const t=e.filters.map(n=>Sa(n)).join(",");return`${e.op}(${t})`}}function tp(e,t){return e instanceof Vt?function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&Fe(r.value,s.value)}(e,t):e instanceof Ie?function(r,s){return s instanceof Ie&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&tp(o,s.filters[a]),!0):!1}(e,t):void Q()}function ep(e){return e instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${gr(n.value)}`}(e):e instanceof Ie?function(n){return n.op.toString()+" {"+n.getFilters().map(ep).join(" ,")+"}"}(e):"Filter"}class $2 extends Vt{constructor(t,n,r){super(t,n,r),this.key=q.fromName(r.referenceValue)}matches(t){const n=q.comparator(t.key,this.key);return this.matchesComparison(n)}}class H2 extends Vt{constructor(t,n){super(t,"in",n),this.keys=np("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class q2 extends Vt{constructor(t,n){super(t,"not-in",n),this.keys=np("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function np(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class j2 extends Vt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ul(n)&&ys(n.arrayValue,this.value)}}class z2 extends Vt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ys(this.value.arrayValue,n)}}class K2 extends Vt{constructor(t,n){super(t,"not-in",n)}matches(t){if(ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ys(this.value.arrayValue,n)}}class G2 extends Vt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ul(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ys(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Ku(e,t=null,n=[],r=[],s=null,i=null,o=null){return new W2(e,t,n,r,s,i,o)}function $l(e){const t=it(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Sa(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),so(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>gr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>gr(r)).join(",")),t.ce=n}return t.ce}function Hl(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!B2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zu(e.startAt,t.startAt)&&zu(e.endAt,t.endAt)}function ba(e){return q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Q2(e,t,n,r,s,i,o,a){return new xs(e,t,n,r,s,i,o,a)}function rp(e){return new xs(e)}function Gu(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function sp(e){return e.collectionGroup!==null}function Wr(e){const t=it(e);if(t.le===null){t.le=[];const n=new Set;for(const i of t.explicitOrderBy)t.le.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qt(Qt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.le.push(new Pi(i,r))}),n.has(Qt.keyField().canonicalString())||t.le.push(new Pi(Qt.keyField(),r))}return t.le}function Me(e){const t=it(e);return t.he||(t.he=Y2(t,Wr(e))),t.he}function Y2(e,t){if(e.limitType==="F")return Ku(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Pi(s.field,i)});const n=e.endAt?new Ri(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ri(e.startAt.position,e.startAt.inclusive):null;return Ku(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Va(e,t){const n=e.filters.concat([t]);return new xs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Da(e,t,n){return new xs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function io(e,t){return Hl(Me(e),Me(t))&&e.limitType===t.limitType}function ip(e){return`${$l(Me(e))}|lt:${e.limitType}`}function Kn(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ep(s)).join(", ")}]`),so(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>gr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>gr(s)).join(",")),`Target(${r})`}(Me(e))}; limitType=${e.limitType})`}function oo(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of Wr(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=ju(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Wr(r),s)||r.endAt&&!function(o,a,l){const c=ju(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Wr(r),s))}(e,t)}function X2(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function op(e){return(t,n)=>{let r=!1;for(const s of Wr(e)){const i=J2(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function J2(e,t,n){const r=e.field.isKeyField()?q.comparator(t.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?pr(l,c):Q()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return Qd(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Rt(q.comparator);function pn(){return Z2}const ap=new Rt(q.comparator);function Ur(...e){let t=ap;for(const n of e)t=t.insert(n.key,n);return t}function tE(e){let t=ap;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Pn(){return Qr()}function lp(){return Qr()}function Qr(){return new Pr(e=>e.toString(),(e,t)=>e.isEqual(t))}const eE=new qt(q.comparator);function nt(...e){let t=eE;for(const n of e)t=t.add(n);return t}const nE=new qt(ct);function rE(){return nE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ai(t)?"-0":t}}function up(e){return{integerValue:""+e}}function sE(e,t){return k2(t)?up(t):cp(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this._=void 0}}function iE(e,t,n){return e instanceof xa?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Fl(i)&&(i=Bl(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Si?hp(e,t):e instanceof bi?fp(e,t):function(s,i){const o=aE(s,i),a=Wu(o)+Wu(s.Ie);return Pa(o)&&Pa(s.Ie)?up(a):cp(s.serializer,a)}(e,t)}function oE(e,t,n){return e instanceof Si?hp(e,t):e instanceof bi?fp(e,t):n}function aE(e,t){return e instanceof Na?function(r){return Pa(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class xa extends ao{}class Si extends ao{constructor(t){super(),this.elements=t}}function hp(e,t){const n=dp(t);for(const r of e.elements)n.some(s=>Fe(s,r))||n.push(r);return{arrayValue:{values:n}}}class bi extends ao{constructor(t){super(),this.elements=t}}function fp(e,t){let n=dp(t);for(const r of e.elements)n=n.filter(s=>!Fe(s,r));return{arrayValue:{values:n}}}class Na extends ao{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Wu(e){return bt(e.integerValue||e.doubleValue)}function dp(e){return Ul(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function lE(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof Si&&s instanceof Si||r instanceof bi&&s instanceof bi?dr(r.elements,s.elements,Fe):r instanceof Na&&s instanceof Na?Fe(r.Ie,s.Ie):r instanceof xa&&s instanceof xa}(e.transform,t.transform)}class Nn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Nn}static exists(t){return new Nn(void 0,t)}static updateTime(t){return new Nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ii(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ql{}function pp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uE(e.key,Nn.none()):new jl(e.key,e.data,Nn.none());{const n=e.data,r=xe.empty();let s=new qt(Qt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new lo(e.key,r,new rn(s.toArray()),Nn.none())}}function cE(e,t,n){e instanceof jl?function(s,i,o){const a=s.value.clone(),l=Yu(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof lo?function(s,i,o){if(!ii(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Yu(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(gp(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Yr(e,t,n,r){return e instanceof jl?function(i,o,a,l){if(!ii(i.precondition,o))return a;const c=i.value.clone(),u=Xu(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof lo?function(i,o,a,l){if(!ii(i.precondition,o))return a;const c=Xu(i.fieldTransforms,l,o),u=o.data;return u.setAll(gp(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return ii(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function Qu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&dr(r,s,(i,o)=>lE(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class jl extends ql{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class lo extends ql{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gp(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Yu(e,t,n){const r=new Map;Nt(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,oE(o,a,n[s]))}return r}function Xu(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,iE(i,o,t))}return r}class uE extends ql{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&cE(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Yr(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Yr(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=lp();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=pp(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),nt())}isEqual(t){return this.batchId===t.batchId&&dr(this.mutations,t.mutations,(n,r)=>Qu(n,r))&&dr(this.baseMutations,t.baseMutations,(n,r)=>Qu(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Z;function mp(e){if(e===void 0)return Ke("GRPC error has no .code"),A.UNKNOWN;switch(e){case St.OK:return A.OK;case St.CANCELLED:return A.CANCELLED;case St.UNKNOWN:return A.UNKNOWN;case St.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case St.INTERNAL:return A.INTERNAL;case St.UNAVAILABLE:return A.UNAVAILABLE;case St.UNAUTHENTICATED:return A.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case St.NOT_FOUND:return A.NOT_FOUND;case St.ALREADY_EXISTS:return A.ALREADY_EXISTS;case St.PERMISSION_DENIED:return A.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case St.ABORTED:return A.ABORTED;case St.OUT_OF_RANGE:return A.OUT_OF_RANGE;case St.UNIMPLEMENTED:return A.UNIMPLEMENTED;case St.DATA_LOSS:return A.DATA_LOSS;default:return Q()}}(Z=St||(St={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new rr([4294967295,4294967295],0);function Ju(e){const t=pE().encode(e),n=new E2;return n.update(t),new Uint8Array(n.digest())}function Zu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new rr([n,r],0),new rr([s,i],0)]}class zl{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $r(`Invalid padding: ${n}`);if(r<0)throw new $r(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new $r(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new $r(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=rr.fromNumber(this.Te)}de(t,n,r){let s=t.add(n.multiply(rr.fromNumber(r)));return s.compare(gE)===1&&(s=new rr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Ju(t),[r,s]=Zu(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new zl(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Ju(t),[r,s]=Zu(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class $r extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,Ns.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new co(W.min(),s,new Rt(ct),pn(),nt())}}class Ns{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ns(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,n,r,s){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=s}}class _p{constructor(t,n){this.targetId=t,this.fe=n}}class yp{constructor(t,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class th{constructor(){this.ge=0,this.pe=nh(),this.ye=Zt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=nt(),n=nt(),r=nt();return this.pe.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Q()}}),new Ns(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=nh()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class mE{constructor(t){this.Le=t,this.ke=new Map,this.qe=pn(),this.Qe=eh(),this.Ke=new Rt(ct)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(t){const n=t.targetId,r=t.fe.count,s=this.Ye(n);if(s){const i=s.target;if(ba(i))if(r===0){const o=new q(i.path);this.We(n,o,Gt.newNoDocument(o,W.min()))}else Nt(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ln(r).toUint8Array()}catch(l){if(l instanceof Yd)return fr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zl(o,s,i)}catch(l){return fr(l instanceof $r?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(a)||(this.We(n,i,null),s++)}),s}it(t){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&ba(a.target)){const l=new q(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Gt.newNoDocument(l,t))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=nt();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(t));const s=new co(t,n,this.Ke,this.qe,r);return this.qe=pn(),this.Qe=eh(),this.Ke=new Rt(ct),s}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const s=this.ze(t);this.st(t,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new th,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new qt(ct),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||M("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new th),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function eh(){return new Rt(q.comparator)}function nh(){return new Rt(q.comparator)}const _E=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),yE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),EE=(()=>({and:"AND",or:"OR"}))();class vE{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Oa(e,t){return e.useProto3Json||so(t)?t:{value:t}}function ka(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ep(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sr(e){return Nt(!!e),W.fromTimestamp(function(n){const r=dn(n);return new Lt(r.seconds,r.nanos)}(e))}function vp(e,t){return function(r){return new Tt(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function Tp(e){const t=Tt.fromString(e);return Nt(Ap(t)),t}function Bo(e,t){const n=Tp(t);if(n.get(1)!==e.databaseId.projectId)throw new F(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new q(wp(n))}function Ma(e,t){return vp(e.databaseId,t)}function TE(e){const t=Tp(e);return t.length===4?Tt.emptyPath():wp(t)}function rh(e){return new Tt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wp(e){return Nt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function wE(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Nt(u===void 0||typeof u=="string"),Zt.fromBase64String(u||"")):(Nt(u===void 0||u instanceof Uint8Array),Zt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?A.UNKNOWN:mp(c.code);return new F(u,c.message||"")}(o);n=new yp(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Bo(e,r.document.name),i=sr(r.document.updateTime),o=r.document.createTime?sr(r.document.createTime):W.min(),a=new xe({mapValue:{fields:r.document.fields}}),l=Gt.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new oi(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Bo(e,r.document),i=r.readTime?sr(r.readTime):W.min(),o=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new oi([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Bo(e,r.document),i=r.removedTargetIds||[];n=new oi([],i,s,null)}else{if(!("filter"in t))return Q();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new dE(s,i),a=r.targetId;n=new _p(a,o)}}return n}function IE(e,t){return{documents:[Ma(e,t.path)]}}function CE(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Ma(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ma(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return Cp(Ie.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Gn(h.field),direction:PE(h.dir)}}(c))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Oa(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function AE(e){let t=TE(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Nt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=Ip(h);return f instanceof Ie&&Zd(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new Pi(Wn(v.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,so(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new Ri(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new Ri(g,f)}(n.endAt)),Q2(t,s,o,i,a,"F",l,c)}function RE(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Ip(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wn(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wn(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wn(n.unaryFilter.field);return Vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wn(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(n){return Vt.create(Wn(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ie.create(n.compositeFilter.filters.map(r=>Ip(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(e):Q()}function PE(e){return _E[e]}function SE(e){return yE[e]}function bE(e){return EE[e]}function Gn(e){return{fieldPath:e.canonicalString()}}function Wn(e){return Qt.fromServerFormat(e.fieldPath)}function Cp(e){return e instanceof Vt?function(n){if(n.op==="=="){if(qu(n.value))return{unaryFilter:{field:Gn(n.field),op:"IS_NAN"}};if(Hu(n.value))return{unaryFilter:{field:Gn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qu(n.value))return{unaryFilter:{field:Gn(n.field),op:"IS_NOT_NAN"}};if(Hu(n.value))return{unaryFilter:{field:Gn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gn(n.field),op:SE(n.op),value:n.value}}}(e):e instanceof Ie?function(n){const r=n.getFilters().map(s=>Cp(s));return r.length===1?r[0]:{compositeFilter:{op:bE(n.op),filters:r}}}(e):Q()}function Ap(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,r,s,i=W.min(),o=W.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new sn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new sn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t){this.ut=t}}function DE(e){const t=AE({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Da(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.on=new NE}addToCollectionParentIndex(t,n){return this.on.add(n),w.resolve()}getCollectionParents(t,n){return w.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return w.resolve()}deleteFieldIndex(t,n){return w.resolve()}deleteAllFieldIndexes(t){return w.resolve()}createTargetIndexes(t,n){return w.resolve()}getDocumentsMatchingTarget(t,n){return w.resolve(null)}getIndexType(t,n){return w.resolve(0)}getFieldIndexes(t,n){return w.resolve([])}getNextCollectionGroupToUpdate(t){return w.resolve(null)}getMinOffset(t,n){return w.resolve(fn.min())}getMinOffsetFromCollectionGroup(t,n){return w.resolve(fn.min())}updateCollectionGroup(t,n,r){return w.resolve()}updateIndexEntries(t,n){return w.resolve()}}class NE{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new qt(Tt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new qt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new mr(0)}static Nn(){return new mr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.changes=new Pr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Gt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?w.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&Yr(r.mutation,s,rn.empty(),Lt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,nt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=nt()){const s=Pn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=Ur();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Pn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,nt()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=pn();const o=Qr(),a=function(){return Qr()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof lo)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Yr(u.mutation,c,u.mutation.getFieldMask(),Lt.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new kE(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Qr();let s=new Rt((o,a)=>o-a),i=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||rn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||nt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=lp();u.forEach(f=>{if(!i.has(f)){const g=pp(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):sp(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):w.resolve(Pn());let a=-1,l=i;return o.next(c=>w.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?w.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,nt())).next(u=>({batchId:a,changes:tE(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new q(n)).next(r=>{let s=Ur();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=Ur();return this.indexManager.getCollectionParents(t,i).next(a=>w.forEach(a,l=>{const c=function(h,f){return new xs(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Gt.newInvalidDocument(u)))});let a=Ur();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Yr(u.mutation,c,rn.empty(),Lt.now()),oo(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return w.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:sr(s.createTime)}}(n)),w.resolve()}getNamedQuery(t,n){return w.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(s){return{name:s.name,query:DE(s.bundledQuery),readTime:sr(s.readTime)}}(n)),w.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.overlays=new Rt(q.comparator),this.lr=new Map}getOverlay(t,n){return w.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Pn();return w.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.lt(t,n,i)}),w.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),w.resolve()}getOverlaysForCollection(t,n,r){const s=Pn(),i=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return w.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Rt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Pn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Pn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return w.resolve(a)}lt(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fE(n,r));let i=this.lr.get(n);i===void 0&&(i=nt(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.hr=new qt(kt.Pr),this.Ir=new qt(kt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new kt(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new kt(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new q(new Tt([])),r=new kt(n,t),s=new kt(n,t+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new q(new Tt([])),r=new kt(n,t),s=new kt(n,t+1);let i=nt();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new kt(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class kt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return q.comparator(t.key,n.key)||ct(t.gr,n.gr)}static Tr(t,n){return ct(t.gr,n.gr)||q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new qt(kt.Pr)}checkEmpty(t){return w.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hE(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new kt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(t,n){return w.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return w.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new kt(n,0),s=new kt(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),w.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new qt(ct);return n.forEach(s=>{const i=new kt(s,0),o=new kt(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),w.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;q.isDocumentKey(i)||(i=i.child(""));const o=new kt(new q(i),0);let a=new qt(ct);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),w.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Nt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return w.forEach(n.mutations,s=>{const i=new kt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new kt(n,0),s=this.yr.firstAfterOrEqual(r);return w.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,w.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.Cr=t,this.docs=function(){return new Rt(q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(t,n){let r=pn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),w.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=pn();const o=n.path,a=new q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||x2(D2(u),r)<=0||(s.has(u.key)||oo(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(t,n,r,s){Q()}vr(t,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new $E(this)}getSize(t){return w.resolve(this.size)}}class $E extends OE{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(t,s)):this._r.removeEntry(r)}),w.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t){this.persistence=t,this.Fr=new Pr(n=>$l(n),Hl),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Kl,this.targetCount=0,this.Nr=mr.On()}forEachTarget(t,n){return this.Fr.forEach((r,s)=>n(s)),w.resolve()}getLastRemoteSnapshotVersion(t){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return w.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),w.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new mr(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,w.resolve()}updateTargetData(t,n){return this.kn(n),w.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),w.waitFor(i).next(()=>s)}getTargetCount(t){return w.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return w.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),w.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),w.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),w.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return w.resolve(r)}containsKey(t,n){return w.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Ll(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new HE(this),this.indexManager=new xE,this.remoteDocumentCache=function(s){return new UE(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new VE(n),this.Kr=new LE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new FE,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new BE(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){M("MemoryPersistence","Starting transaction:",t);const s=new jE(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(t,n){return w.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class jE extends O2{constructor(t){super(),this.currentSequenceNumber=t}}class Gl{constructor(t){this.persistence=t,this.Gr=new Kl,this.zr=null}static jr(t){return new Gl(t)}get Hr(){if(this.zr)return this.zr;throw Q()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),w.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),w.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,r=>{const s=q.fromPath(r);return this.Jr(t,s).next(i=>{i||n.removeEntry(s,W.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return w.or([()=>w.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=s}static Qi(t,n){let r=nt(),s=nt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Wl(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.zi(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(t,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new zE;return this.Hi(t,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>i.result)}Ji(t,n,r,s){return r.documentReadCount<this.Ui?(kr()<=et.DEBUG&&M("QueryEngine","SDK will not create cache indexes for query:",Kn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):(kr()<=et.DEBUG&&M("QueryEngine","Query:",Kn(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(kr()<=et.DEBUG&&M("QueryEngine","The SDK decides to create cache indexes for query:",Kn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Me(n))):w.resolve())}zi(t,n){if(Gu(n))return w.resolve(null);let r=Me(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Da(n,null,"F"),r=Me(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=nt(...i);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(t,Da(n,null,"F")):this.Xi(t,c,n,l)}))})))}ji(t,n,r,s){return Gu(n)||s.isEqual(W.min())?w.resolve(null):this.Gi.getDocuments(t,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?w.resolve(null):(kr()<=et.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Kn(n)),this.Xi(t,o,n,V2(s,-1)).next(a=>a))})}Yi(t,n){let r=new qt(op(t));return n.forEach((s,i)=>{oo(t,i)&&(r=r.add(i))}),r}Zi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(t,n,r){return kr()<=et.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",Kn(n)),this.Gi.getDocumentsMatchingQuery(t,n,fn.min(),r)}Xi(t,n,r,s){return this.Gi.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,n,r,s){this.persistence=t,this.es=n,this.serializer=s,this.ts=new Rt(ct),this.ns=new Pr(i=>$l(i),Hl),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ME(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function WE(e,t,n,r){return new GE(e,t,n,r)}async function Rp(e,t){const n=it(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=nt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function Pp(e){const t=it(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function QE(e,t){const n=it(e),r=t.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(h)!==null?g=g.withResumeToken(Zt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(I,P,D){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(f,g,u)&&a.push(n.qr.updateTargetData(i,g))});let l=pn(),c=nt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(YE(i,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(W.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ts=s,i))}function YE(e,t,n){let r=nt(),s=nt();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=pn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(W.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:s}})}function XE(e,t){const n=it(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,t).next(i=>i?(s=i,w.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new sn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function La(e,t,n){const r=it(e),s=r.ts.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Vs(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(s.target)}function sh(e,t,n){const r=it(e);let s=W.min(),i=nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=it(l),f=h.ns.get(u);return f!==void 0?w.resolve(h.ts.get(f)):h.qr.getTargetData(c,u)}(r,o,Me(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?s:W.min(),n?i:nt())).next(a=>(JE(r,X2(t),a),{documents:a,ls:i})))}function JE(e,t,n){let r=e.rs.get(t)||W.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.rs.set(t,r)}class ih{constructor(){this.activeTargetIds=rE()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZE{constructor(){this.eo=new ih,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new ih,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs=null;function Uo(){return Xs===null?Xs=function(){return 268435456+Math.round(2147483648*Math.random())}():Xs++,"0x"+Xs.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class rv extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=Uo(),l=this.So(n,r);M("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,i,o),this.Do(n,l,c,s).then(u=>(M("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw fr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=ev[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,s){const i=Uo();return new Promise((o,a)=>{const l=new y2;l.setWithCredentials(!0),l.listenOnce(g2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Lo.NO_ERROR:const u=l.getResponseJson();M(zt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(u)),o(u);break;case Lo.TIMEOUT:M(zt,`RPC '${t}' ${i} timed out`),a(new F(A.DEADLINE_EXCEEDED,"Request time out"));break;case Lo.HTTP_ERROR:const h=l.getStatus();if(M(zt,`RPC '${t}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(P){const D=P.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(D)>=0?D:A.UNKNOWN}(g.status);a(new F(v,g.message))}else a(new F(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new F(A.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{M(zt,`RPC '${t}' ${i} completed.`)}});const c=JSON.stringify(s);M(zt,`RPC '${t}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}vo(t,n,r){const s=Uo(),i=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=d2(),a=p2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new _2({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");M(zt,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,g=!1;const v=new nv({co:P=>{g?M(zt,`Not sending because RPC '${t}' stream ${s} is closed:`,P):(f||(M(zt,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),M(zt,`RPC '${t}' stream ${s} sending:`,P),h.send(P))},lo:()=>h.close()}),I=(P,D,O)=>{P.listen(D,j=>{try{O(j)}catch(N){setTimeout(()=>{throw N},0)}})};return I(h,Ws.EventType.OPEN,()=>{g||M(zt,`RPC '${t}' stream ${s} transport opened.`)}),I(h,Ws.EventType.CLOSE,()=>{g||(g=!0,M(zt,`RPC '${t}' stream ${s} transport closed`),v.Ro())}),I(h,Ws.EventType.ERROR,P=>{g||(g=!0,fr(zt,`RPC '${t}' stream ${s} transport errored:`,P),v.Ro(new F(A.UNAVAILABLE,"The operation could not be completed")))}),I(h,Ws.EventType.MESSAGE,P=>{var D;if(!g){const O=P.data[0];Nt(!!O);const j=O,N=j.error||((D=j[0])===null||D===void 0?void 0:D.error);if(N){M(zt,`RPC '${t}' stream ${s} received error:`,N);const rt=N.status;let mt=function(pt){const ot=St[pt];if(ot!==void 0)return mp(ot)}(rt),Dt=N.message;mt===void 0&&(mt=A.INTERNAL,Dt="Unknown error status: "+rt+" with message "+N.message),g=!0,v.Ro(new F(mt,Dt)),h.close()}else M(zt,`RPC '${t}' stream ${s} received:`,O),v.Vo(O)}}),I(a,m2.STAT_EVENT,P=>{P.stat===Mu.PROXY?M(zt,`RPC '${t}' stream ${s} detected buffering proxy`):P.stat===Mu.NOPROXY&&M(zt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function $o(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(e){return new vE(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,n,r=1e3,s=1.5,i=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&M("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(t,n,r,s,i,o,a,l){this.si=t,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Sp(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(Ke(n.toString()),Ke("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{t(()=>{const s=new F(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return M("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iv extends sv{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=wE(this.serializer,t),r=function(i){if(!("targetChange"in i))return W.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?W.min():o.readTime?sr(o.readTime):W.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=rh(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=ba(l)?{documents:IE(i,l)}:{query:CE(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ep(i,o.resumeToken);const c=Oa(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(W.min())>0){a.readTime=ka(i,o.snapshotVersion.toTimestamp());const c=Oa(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=RE(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=rh(this.serializer),n.removeTarget=t,this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new F(A.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(A.UNKNOWN,s.toString())})}Co(t,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(t,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(A.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class av{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ke(n),this.f_=!1):M("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{ks(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=it(l);c.C_.add(4),await Os(c),c.M_.set("Unknown"),c.C_.delete(4),await ho(c)}(this))})}),this.M_=new av(r,s)}}async function ho(e){if(ks(e))for(const t of e.v_)await t(!0)}async function Os(e){for(const t of e.v_)await t(!1)}function bp(e,t){const n=it(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Xl(n)?Yl(n):Sr(n).Ho()&&Ql(n,t))}function Vp(e,t){const n=it(e),r=Sr(n);n.D_.delete(t),r.Ho()&&Dp(n,t),n.D_.size===0&&(r.Ho()?r.Zo():ks(n)&&n.M_.set("Unknown"))}function Ql(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(W.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sr(e).u_(t)}function Dp(e,t){e.x_.Oe(t),Sr(e).c_(t)}function Yl(e){e.x_=new mE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Sr(e).start(),e.M_.g_()}function Xl(e){return ks(e)&&!Sr(e).jo()&&e.D_.size>0}function ks(e){return it(e).C_.size===0}function xp(e){e.x_=void 0}async function cv(e){e.D_.forEach((t,n)=>{Ql(e,t)})}async function uv(e,t){xp(e),Xl(e)?(e.M_.w_(t),Yl(e)):e.M_.set("Unknown")}async function hv(e,t,n){if(e.M_.set("Online"),t instanceof yp&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(e,t)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ah(e,r)}else if(t instanceof oi?e.x_.$e(t):t instanceof _p?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(W.min()))try{const r=await Pp(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.D_.get(c);u&&i.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.D_.get(l);if(!u)return;i.D_.set(l,u.withResumeToken(Zt.EMPTY_BYTE_STRING,u.snapshotVersion)),Dp(i,l);const h=new sn(u.target,l,c,u.sequenceNumber);Ql(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){M("RemoteStore","Failed to raise snapshot:",r),await ah(e,r)}}async function ah(e,t,n){if(!Vs(t))throw t;e.C_.add(1),await Os(e),e.M_.set("Offline"),n||(n=()=>Pp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await ho(e)})}async function lh(e,t){const n=it(e);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.C_.add(3),await Os(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await ho(n)}async function fv(e,t){const n=it(e);t?(n.C_.delete(2),await ho(n)):t||(n.C_.add(2),await Os(n),n.M_.set("Unknown"))}function Sr(e){return e.O_||(e.O_=function(n,r,s){const i=it(n);return i.A_(),new iv(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{ho:cv.bind(null,e),Io:uv.bind(null,e),a_:hv.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),Xl(e)?Yl(e):e.M_.set("Unknown")):(await e.O_.stop(),xp(e))})),e.O_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new Jl(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(e,t){if(Ke("AsyncQueue",`${t}: ${e}`),Vs(e))return new F(A.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this.comparator=t?(n,r)=>t(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Ur(),this.sortedSet=new Rt(this.comparator)}static emptySet(t){return new ir(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ir)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ir;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this.B_=new Rt(q.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Q():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class _r{constructor(t,n,r,s,i,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _r(t,n,ir.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&io(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.k_=void 0,this.listeners=[]}}class pv{constructor(){this.queries=new Pr(t=>ip(t),io),this.onlineState="Unknown",this.q_=new Set}}async function gv(e,t){const n=it(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new dv),s)try{i.k_=await n.onListen(r)}catch(o){const a=Np(o,`Initialization of query '${Kn(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.Q_(n.onlineState),i.k_&&t.K_(i.k_)&&Zl(n)}async function mv(e,t){const n=it(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(t);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function _v(e,t){const n=it(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&Zl(n)}function yv(e,t,n){const r=it(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Zl(e){e.q_.forEach(t=>{t.next()})}class Ev{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new _r(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=_r.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t){this.key=t}}class kp{constructor(t){this.key=t}}class vv{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=nt(),this.mutatedKeys=nt(),this._a=op(t),this.aa=new ir(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new ch,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),g=oo(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;f&&g?f.data.isEqual(g.data)?v!==I&&(r.track({type:3,doc:g}),P=!0):this.ha(f,g)||(r.track({type:2,doc:g}),P=!0,(l&&this._a(g,l)>0||c&&this._a(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),P=!0):f&&!g&&(r.track({type:1,doc:f}),P=!0,(l||c)&&(a=!0)),P&&(g?(o=o.add(g),i=I?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const i=t.la.L_();i.sort((c,u)=>function(f,g){const v=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return v(f)-v(g)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,i.length!==0||l?{snapshot:new _r(this.query,t.aa,s,i,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new ch,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=nt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new kp(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new Op(r))}),n}da(t){this.ia=t.ls,this.oa=nt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return _r.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Tv{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class wv{constructor(t){this.key=t,this.Ra=!1}}class Iv{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Pr(a=>ip(a),io),this.fa=new Map,this.ga=new Set,this.pa=new Rt(q.comparator),this.ya=new Map,this.wa=new Kl,this.Sa={},this.ba=new Map,this.Da=mr.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Cv(e,t){const n=Dv(e);let r,s;const i=n.ma.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await XE(n.localStore,Me(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await Av(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&bp(n.remoteStore,o)}return s}async function Av(e,t,n,r,s){e.va=(h,f,g)=>async function(I,P,D,O){let j=P.view.ca(D);j.Zi&&(j=await sh(I.localStore,P.query,!1).then(({documents:mt})=>P.view.ca(mt,j)));const N=O&&O.targetChanges.get(P.targetId),rt=P.view.applyChanges(j,I.isPrimaryClient,N);return hh(I,P.targetId,rt.Ta),rt.snapshot}(e,h,f,g);const i=await sh(e.localStore,t,!0),o=new vv(t,i.ls),a=o.ca(i.documents),l=Ns.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);hh(e,n,c.Ta);const u=new Tv(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function Rv(e,t){const n=it(e),r=n.ma.get(t),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!io(i,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await La(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Vp(n.remoteStore,r.targetId),Fa(n,r.targetId)}).catch(Ml)):(Fa(n,r.targetId),await La(n.localStore,r.targetId,!0))}async function Mp(e,t){const n=it(e);try{const r=await QE(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Nt(o.Ra):s.removedDocuments.size>0&&(Nt(o.Ra),o.Ra=!1))}),await Fp(n,r,t)}catch(r){await Ml(r)}}function uh(e,t,n){const r=it(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=it(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.Q_(a)&&(c=!0)}),c&&Zl(l)}(r.eventManager,t),s.length&&r.Va.a_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Pv(e,t,n){const r=it(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.ya.get(t),i=s&&s.key;if(i){let o=new Rt(q.comparator);o=o.insert(i,Gt.newNoDocument(i,W.min()));const a=nt().add(i),l=new co(W.min(),new Map,new Rt(ct),o,a);await Mp(r,l),r.pa=r.pa.remove(i),r.ya.delete(t),tc(r)}else await La(r.localStore,t,!1).then(()=>Fa(r,t,n)).catch(Ml)}function Fa(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||Lp(e,r)})}function Lp(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(Vp(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),tc(e))}function hh(e,t,n){for(const r of n)r instanceof Op?(e.wa.addReference(r.key,t),Sv(e,r)):r instanceof kp?(M("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Lp(e,r.key)):Q()}function Sv(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(M("SyncEngine","New document in limbo: "+n),e.ga.add(r),tc(e))}function tc(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new q(Tt.fromString(t)),r=e.Da.next();e.ya.set(r,new wv(n)),e.pa=e.pa.insert(n,r),bp(e.remoteStore,new sn(Me(rp(n.path)),r,"TargetPurposeLimboResolution",Ll._e))}}async function Fp(e,t,n){const r=it(e),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Wl.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Va.a_(s),await async function(l,c){const u=it(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>w.forEach(c,f=>w.forEach(f.ki,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>w.forEach(f.qi,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Vs(h))throw h;M("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=u.ts.get(f),v=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(v);u.ts=u.ts.insert(f,I)}}}(r.localStore,i))}async function bv(e,t){const n=it(e);if(!n.currentUser.isEqual(t)){M("SyncEngine","User change. New user:",t.toKey());const r=await Rp(n.localStore,t);n.currentUser=t,function(i,o){i.ba.forEach(a=>{a.forEach(l=>{l.reject(new F(A.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fp(n,r._s)}}function Vv(e,t){const n=it(e),r=n.ya.get(t);if(r&&r.Ra)return nt().add(r.key);{let s=nt();const i=n.fa.get(t);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function Dv(e){const t=it(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pv.bind(null,t),t.Va.a_=_v.bind(null,t.eventManager),t.Va.Fa=yv.bind(null,t.eventManager),t}class fh{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=uo(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return WE(this.persistence,new KE,t.initialUser,this.serializer)}createPersistence(t){return new qE(Gl.jr,this.serializer)}createSharedClientState(t){return new ZE}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class xv{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bv.bind(null,this.syncEngine),await fv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new pv}()}createDatastore(t){const n=uo(t.databaseInfo.databaseId),r=function(i){return new rv(i)}(t.databaseInfo);return function(i,o,a,l){return new ov(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new lv(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>uh(this.syncEngine,n,0),function(){return oh.D()?new oh:new tv}())}createSyncEngine(t,n){return function(s,i,o,a,l,c,u){const h=new Iv(s,i,o,a,l,c);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=it(n);M("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Os(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Ke("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=S2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{M("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(M("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Np(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Ho(e,t){e.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Rp(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function dh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Mv(e);M("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>lh(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>lh(t.remoteStore,i)),e._onlineComponents=t}function kv(e){return e.name==="FirebaseError"?e.code===A.FAILED_PRECONDITION||e.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Mv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ho(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!kv(n))throw n;fr("Error using user provided cache. Falling back to memory cache: "+n),await Ho(e,new fh)}}else M("FirestoreClient","Using default OfflineComponentProvider"),await Ho(e,new fh);return e._offlineComponents}async function Lv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),await dh(e,e._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),await dh(e,new xv))),e._onlineComponents}async function Fv(e){const t=await Lv(e),n=t.eventManager;return n.onListen=Cv.bind(null,t.syncEngine),n.onUnlisten=Rv.bind(null,t.syncEngine),n}function Bv(e,t,n={}){const r=new xn;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Nv({next:f=>{o.enqueueAndForget(()=>mv(i,h)),f.fromCache&&l.source==="server"?c.reject(new F(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Ev(a,u,{includeMetadataChanges:!0,J_:!0});return gv(i,h)}(await Fv(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(e,t,n){if(!n)throw new F(A.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $v(e,t,n,r){if(t===!0&&r===!0)throw new F(A.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function gh(e){if(q.isDocumentKey(e))throw new F(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function fo(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function Ba(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fo(e);throw new F(A.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new F(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$v("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bp((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new F(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ec{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new F(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mh(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new v2;switch(r.type){case"firstParty":return new C2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ph.get(n);r&&(M("ComponentProvider","Removing Datastore"),ph.delete(n),r.terminate())}(this),Promise.resolve()}}function Hv(e,t,n,r={}){var s;const i=(e=Ba(e,ec))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Kt.MOCK_USER;else{a=X_(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new F(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Kt(c)}e._authCredentials=new T2(new Wd(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new br(this.firestore,t,this._query)}}class We{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}}class or extends br{constructor(t,n,r){super(t,n,rp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new q(t))}withConverter(t){return new or(this.firestore,t,this._path)}}function qv(e,t,...n){if(e=gi(e),Uv("collection","path",t),e instanceof ec){const r=Tt.fromString(t,...n);return gh(r),new or(e,null,r)}{if(!(e instanceof We||e instanceof or))throw new F(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Tt.fromString(t,...n));return gh(r),new or(e.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Sp(this,"async_queue_retry"),this.iu=()=>{const n=$o();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=$o();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=$o();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new xn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!Vs(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ke("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const s=Jl.createAndSchedule(this,t,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&Q()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Up extends ec{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new jv}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$p(this),this._firestoreClient.terminate()}}function zv(e,t){const n=typeof e=="object"?e:e0(),r=typeof e=="string"?e:t||"(default)",s=Xy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Q_("firestore");i&&Hv(s,...i)}return s}function Kv(e){return e._firestoreClient||$p(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $p(e){var t,n,r;const s=e._freezeSettings(),i=function(a,l,c,u){return new L2(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Bp(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new Ov(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yr(Zt.fromBase64String(t))}catch(n){throw new F(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new yr(Zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ct(this._lat,t._lat)||ct(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=/^__.*__$/;function jp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class rc{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new rc(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Tu({path:r,du:!1});return s.Au(t),s}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return Ua(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(jp(this.Iu)&&Gv.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Wv{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||uo(t)}pu(t,n,r,s=!1){return new rc({Iu:t,methodName:n,gu:r,path:Qt.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qv(e){const t=e._freezeSettings(),n=uo(e._databaseId);return new Wv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yv(e,t,n,r=!1){return sc(n,e.pu(r?4:3,t))}function sc(e,t){if(zp(e=gi(e)))return Jv("Unsupported field value:",t,e),Xv(e,t);if(e instanceof qp)return function(r,s){if(!jp(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=sc(a,s.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=gi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sE(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:ka(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ka(s.serializer,i)}}if(r instanceof nc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yr)return{bytesValue:Ep(s.serializer,r._byteString)};if(r instanceof We){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vp(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${fo(r)}`)}(e,t)}function Xv(e,t){const n={};return Qd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(e,(r,s)=>{const i=sc(s,t.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function zp(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Lt||e instanceof nc||e instanceof yr||e instanceof We||e instanceof qp)}function Jv(e,t,n){if(!zp(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=fo(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}const Zv=new RegExp("[~\\*/\\[\\]]");function t5(e,t,n){if(t.search(Zv)>=0)throw Ua(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Hp(...t.split("."))._internalPath}catch{throw Ua(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ua(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new F(A.INVALID_ARGUMENT,a+e+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new e5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ic("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e5 extends Kp{data(){return super.data()}}function ic(e,t){return typeof t=="string"?t5(e,t):t instanceof Hp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oc{}class r5 extends oc{}function k5(e,t,...n){let r=[];t instanceof oc&&r.push(t),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof ac).length,a=i.filter(l=>l instanceof po).length;if(o>1||o>0&&a>0)throw new F(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class po extends r5{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new po(t,n,r)}_apply(t){const n=this._parse(t);return Gp(t._query,n),new br(t.firestore,t.converter,Va(t._query,n))}_parse(t){const n=Qv(t.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new F(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){yh(h,u);const g=[];for(const v of h)g.push(_h(l,i,v));f={arrayValue:{values:g}}}else f=_h(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||yh(h,u),f=Yv(a,o,h,u==="in"||u==="not-in");return Vt.create(c,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function M5(e,t,n){const r=t,s=ic("where",e);return po._create(s,r,n)}class ac extends oc{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ac(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ie.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Gp(o,l),o=Va(o,l)}(t._query,n),new br(t.firestore,t.converter,Va(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _h(e,t,n){if(typeof(n=gi(n))=="string"){if(n==="")throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sp(t)&&n.indexOf("/")!==-1)throw new F(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Tt.fromString(n));if(!q.isDocumentKey(r))throw new F(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $u(e,new q(r))}if(n instanceof We)return $u(e,n._key);throw new F(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fo(n)}.`)}function yh(e,t){if(!Array.isArray(e)||e.length===0)throw new F(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Gp(e,t){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new F(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class s5{convertValue(t,n="none"){switch(Fn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ln(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ds(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new nc(bt(t.latitude),bt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Bl(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ms(t));default:return null}}convertTimestamp(t){const n=dn(t);return new Lt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Tt.fromString(t);Nt(Ap(r));const s=new _s(r.get(1),r.get(3)),i=new q(r.popFirst(5));return s.isEqual(n)||Ke(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class i5 extends Kp{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ai(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ic("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ai extends i5{data(t={}){return super.data(t)}}class o5{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Js(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new ai(this._firestore,this._userDataWriter,r.key,r,new Js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ai(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Js(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ai(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Js(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:a5(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class l5 extends s5{constructor(t){super(),this.firestore=t}convertBytes(t){return new yr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,n)}}function c5(e){e=Ba(e,br);const t=Ba(e.firestore,Up),n=Kv(t),r=new l5(t);return n5(e._query),Bv(n,e._query).then(s=>new o5(t,r,e,s))}(function(t,n=!0){(function(s){Rr=s})(t0),_i(new is("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Up(new w2(r.getProvider("auth-internal")),new R2(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new F(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),er(Lu,"4.3.2",t),er(Lu,"4.3.2","esm2017")})();const u5={apiKey:"AIzaSyBCXO2rmcZC9w9DhJfFKCIj5c4Miye_jDk",authDomain:"on85765ski.firebaseapp.com",projectId:"on85765ski",storageBucket:"on85765ski.appspot.com",messagingSenderId:"379408596251",appId:"1:379408596251:web:fb2b6e43ded64dba18e7be"},h5=qf(u5),f5=zv(h5);function d5(e){return typeof e=="object"&&"color"in e&&"age"in e&&"musical_genre"in e&&"instrument"in e&&"slug"in e&&p5(e.profileImage)&&"name"in e&&"bio"in e&&"country"in e&&typeof e.date=="number"&&"fun_fact"in e&&Array.isArray(e.albums)&&e.albums.every(g5)&&"id"in e}function p5(e){return typeof e=="object"&&"name"in e&&"url"in e}function g5(e){return typeof e=="object"&&"songs"in e&&Array.isArray(e.songs)&&"title"in e&&"year"in e&&m5(e.cover)}function m5(e){return typeof e=="object"&&"name"in e&&"url"in e}const qo=wr({__name:"Skeleton",props:{width:{default:"100%",type:String},height:{default:"200px",type:String},bRadius:{default:"4px",type:String},margin:{default:"0",type:String}},setup(e){return(t,n)=>(ue(),Pe("div",{class:"skeleton",style:Es(`width: ${e.width}; height: ${e.height}; border-radius: ${e.bRadius}; margin: ${e.margin}`)},null,4))}});const _5={class:"container my-4"},y5={class:"galeria-musicos"},E5={key:0,class:"row"},v5={class:"col-6 col-md-4 col-lg-3 mt-4"},T5={class:"card-musico"},w5=["src"],I5={class:"mt-2 fw-bold small"},C5={class:"small muted mt-2"},A5={key:1,class:"row"},R5={class:"col-6 col-md-4 col-lg-3 mt-4"},P5=wr({__name:"Home",setup(e){const t=vs({data:[]});async function n(){try{(await c5(qv(f5,"musicians"))).docs.map(s=>{let i={...s.data(),id:s.id};d5(i)&&t.data.push(i)})}catch(r){console.log(r)}}return n(),(r,s)=>{const i=Xh("RouterLink");return ue(),Pe("div",_5,[Se("section",y5,[t.data.length?(ue(),Pe("div",E5,[(ue(!0),Pe(ae,null,Ac(t.data,(o,a)=>(ue(),Pe("div",v5,[Se("article",T5,[wt(i,{to:{name:"musicianProfile",params:{id:o.slug}}},{default:ts(()=>[Se("img",{style:Es(`border-color:${o.color}`),class:"img-fluid",src:o.profileImage.url},null,12,w5),Se("h4",I5,dc(o.name),1),Se("p",C5,dc(o.musical_genre),1)]),_:2},1032,["to"])])]))),256))])):(ue(),Pe("div",A5,[(ue(),Pe(ae,null,Ac(8,(o,a)=>Se("div",R5,[wt(qo,{width:"100%",height:"300px"}),wt(qo,{width:"90px",height:"20px",margin:"1em 0 0.5em 0"}),wt(qo,{width:"50px",height:"20px"})])),64))]))])])}}});const S5=()=>{document.documentElement.style.setProperty("--color-musico-1","#242424"),document.documentElement.style.setProperty("--color-musico-2","#242424"),document.documentElement.style.setProperty("--bg-image","url()"),document.title="Synthethic Charm | Artificial muisician profiles"},b5=I_({history:U1("/synthetic-charm"),routes:[{path:"/",name:"home",component:P5,beforeEnter:S5},{path:"/musician/:id",name:"musicianProfile",meta:{title:""},props:!0,component:()=>B_(()=>import("./Profile-79d9bc73.js"),["assets/Profile-79d9bc73.js","assets/Profile-09dce81c.css"])}]}),lc=_1(M_);lc.use(T1());lc.use(b5);lc.mount("#app");export{ae as F,$h as a,Xh as b,Pe as c,wr as d,Se as e,wt as f,Ac as g,V5 as h,qv as i,f5 as j,M5 as k,c5 as l,d5 as m,Es as n,ue as o,Vm as p,k5 as q,vs as r,bn as s,dc as t,D5 as u,ts as w};
